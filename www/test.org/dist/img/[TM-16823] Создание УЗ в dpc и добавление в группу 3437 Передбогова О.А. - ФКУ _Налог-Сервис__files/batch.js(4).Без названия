;
/* module-key = 'com.atlassian.auiplugin:split_aui.component.sidebar', location = 'aui.chunk.3544223acb9a2aeec176--07d4976cc02e79022e83.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.component.sidebar"],{"5njU":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(i("+x/D"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return(0,o.default)(e).clone().removeAttr("id")}(0,n(i("KloK")).default)("clone",a),t.default=a,e.exports=t.default},"6wVx":function(e,t,i){},Wzva:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=h(i("+x/D"));i("XphB"),i("C/C5"),i("HH5i");var n=h(i("5njU")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i("bPPT")),s=h(i("KloK")),r=h(i("h2ur")),u=h(i("kV0L")),l=h(i("+ay7")),d=h(i("XxUV")),p=h(i("4dFR")),c=h(i("OEua")),f=h(i("6RZY"));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){return e.offset().top}function g(e){this.$el=(0,o.default)(e),this.$el.length&&(this.$body=(0,o.default)("body"),this.$wrapper=this.$el.children(".aui-sidebar-wrapper"),this.$body.addClass("aui-page-sidebar"),this._previousScrollTop=null,this._previousViewportHeight=null,this._previousViewportWidth=null,this._previousOffsetTop=null,this.submenus=new w,function(e){if(!(0,o.default)(".aui-sidebar").length)return;(function(e){e.$el.on("mouseenter mouseleave click focus",e.collapsedTriggersSelector,function(t){var i=(0,o.default)(t.target);x(e,i)})})(e),r.default&&(0,d.default)("only screen and (max-device-width:1024px)")&&(0,o.default)("body").addClass("aui-page-sidebar-touch");var t=null,i=function(){null===t&&(t=requestAnimationFrame(function(){e.reflow(),t=null}))};(0,o.default)(window).on("scroll resize",i),i(),e.isAnimated()&&e.$el.on("transitionend webkitTransitionEnd",function(){e.$el.trigger(o.default.Event(b+(e.isCollapsed()?"collapse-end":"expand-end")))});e.$el.on("click",".aui-sidebar-toggle",function(t){t.preventDefault(),e.toggle()}),(0,o.default)(".aui-page-panel").click(function(){!e.isCollapsed()&&e.isViewportNarrow()&&e.collapse()});var n=function(t){(function(e){return!(e.which!==l.default.LEFT_SQUARE_BRACKET||e.shiftKey||e.ctrlKey||e.metaKey||(0,u.default)(e.target))})(t)&&e.toggle()};function a(e){return e.keyCode===l.default.TAB&&!e.shiftKey&&!e.altKey}(0,o.default)(document).on("keypress",n),e._remove=function(){this._removeAllTooltips(),(0,o.default)(this.inlineDialogSelector).remove(),this.$el.off(),this.$el.remove(),(0,o.default)(document).off("keypress",n),(0,o.default)(window).off("scroll resize",i)},e.$el.on("touchend",function(t){e.isCollapsed()&&(e.expand(),t.preventDefault())}),e.$el.on("mouseenter focus",e.collapsedTriggersSelector,function(){if(e.isCollapsed()){var t=(0,o.default)(this);C(t)||V(t)}}),e.$el.on("click blur mouseleave",e.collapsedTriggersSelector,function(){e.isCollapsed()&&A((0,o.default)(this))}),e.$el.on("mouseenter focus",e.toggleSelector,function(){var t=(0,o.default)(this);e.isCollapsed()?t.data("tooltip","\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443 ( [ )"):t.data("tooltip","\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443 ( [ )"),V(t)}),e.$el.on("click blur mouseleave",e.toggleSelector,function(){A((0,o.default)(this))}),e.$el.on("keydown",e.collapsedTriggersSelector,function(t){if(e.isCollapsed()){var i=t.target,n=_(i);if(!n)return;var s=(0,o.default)(n);a(t)&&n.open&&(t.preventDefault(),function(e){e.attr("persistent",""),e.find(":aui-tabbable").first().focus(),setTimeout(function(){e.removeAttr("persistent")},100)}(s),s.on("keydown",function(e){((function(e){return e.keyCode===l.default.TAB&&e.shiftKey})(e)&&function(e,t){return e===t.find(":aui-tabbable")[0]}(e.target,s)||a(e)&&function(e,t){return e===t.find(":aui-tabbable").last()[0]}(e.target,s))&&(i.focus(),(0,o.default)(this).off("keydown"),$())}))}})}(this),function(e){(0,o.default)(e.collapsedTriggersSelector).each(function(){var t=(0,o.default)(this);x(e,t)})}(this))}var b="_aui-internal-sidebar-";function y(e){return o.default.map(e.split(" "),function(e){return b+e}).join(" ")}function m(){return document.querySelectorAll(g.prototype.inlineDialogSelector)}function w(){this.inlineDialog=null}function k(e){return e.is("a")?e.next(".aui-nav"):e.children(".aui-nav, hr")}function _(e){var t=e.getAttribute("aria-controls");return document.getElementById(t)}function C(e){return 0!==k(e).length}function $(){var e=m();Array.prototype.forEach.call(e,function(e){e.open=!1})}function x(e,t){if(!t.data("_aui-sidebar-submenu-constructed")&&(t.data("_aui-sidebar-submenu-constructed",!0),C(t))){var i=document.createElement("aui-inline-dialog"),a=(0,c.default)("sidebar-submenu");return t.attr("aria-controls",a),t.attr("data-aui-trigger",""),p.default.init(t),i.setAttribute("id",a),i.setAttribute("alignment","right top"),i.setAttribute("aria-hidden","true"),e.isCollapsed()&&i.setAttribute("responds-to","hover"),(0,o.default)(i).addClass(g.prototype.inlineDialogClass),document.body.appendChild(i),p.default.init(i),function(e,t,i){i.addEventListener("aui-layer-show",function(a){if(e.isCollapsed()){var s=o.default.Event("aui-sidebar-submenu-before-show");t.trigger(s,i),s.isDefaultPrevented()?a.preventDefault():function(e,t){e.addClass("active"),t.innerHTML=S;var i=e.is("a")?e.text():e.children(".aui-nav-heading").text(),a=(0,o.default)(t).find(".aui-navgroup-inner");a.children(".aui-nav-heading").attr("title",i).children("strong").text(i),function(e){var t=(0,n.default)(e);t.hasClass("aui-expander-content")&&(t.find(".aui-expander-cutoff").remove(),t.removeClass("aui-expander-content"));return t}(k(e)).appendTo(a)}(t,i)}else a.preventDefault()}),i.addEventListener("aui-layer-hide",function(){!function(e){e.removeClass("active")}(t)})}(e,t,i),i}}g.prototype.on=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1),i=y(e);return this.$el.on.apply(this.$el,[i].concat(t)),this},g.prototype.off=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1),i=y(e);return this.$el.off.apply(this.$el,[i].concat(t)),this},g.prototype.setHeight=function(e,t,i){var o=Math.max(0,i-e);return this.$wrapper.height(t-o),this},g.prototype.setTopPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.pageYOffset;return this.$wrapper.toggleClass("aui-is-docked",e>v(this.$el)),this},g.prototype.setPosition=a.fn(g.prototype.setTopPosition,"Sidebar.setPosition",{removeInVersion:"9.0.0",sinceVersion:"7.6.1",alternativeName:"Sidebar.setTopPosition"}),g.prototype.setLeftPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.pageXOffset;return this.$wrapper.hasClass("aui-is-docked")&&this.$wrapper.css({left:-e}),this},g.prototype.setCollapsedState=function(e){var t={collapsed:{},expanded:{}};t.collapsed.narrow={narrow:o.default.noop,wide:function(t){t._expand(e,!0)}},t.collapsed.wide={narrow:o.default.noop,wide:o.default.noop},t.expanded.narrow={narrow:o.default.noop,wide:function(e){e.$body.removeClass("aui-sidebar-collapsed"),e.$el.removeClass("aui-sidebar-fly-out")}},t.expanded.wide={narrow:function(e){e._collapse(!0)},wide:o.default.noop};var i=this.isCollapsed()?"collapsed":"expanded",n=this.isViewportNarrow(this._previousViewportWidth)?"narrow":"wide",a=this.isViewportNarrow(e)?"narrow":"wide";return t[i][n][a](this),this},g.prototype._collapse=function(e){if(this.isCollapsed())return this;var t=o.default.Event(b+"collapse-start",{isResponsive:e});return this.$el.trigger(t),t.isDefaultPrevented()?this:(this.$body.addClass("aui-sidebar-collapsed"),this.$el.attr("aria-expanded","false"),this.$el.removeClass("aui-sidebar-fly-out"),this.$el.find(this.submenuTriggersSelector).attr("tabindex",0),(0,o.default)(this.inlineDialogSelector).attr("responds-to","hover"),this.isAnimated()||this.$el.trigger(o.default.Event(b+"collapse-end",{isResponsive:e})),this)},g.prototype.collapse=function(){return this._collapse(!1)},g.prototype._expand=function(e,t){var i=o.default.Event(b+"expand-start",{isResponsive:t});if(this.$el.trigger(i),i.isDefaultPrevented())return this;var n=this.isViewportNarrow(e);return this.$el.attr("aria-expanded","true"),this.$body.toggleClass("aui-sidebar-collapsed",n),this.$el.toggleClass("aui-sidebar-fly-out",n),this.$el.find(this.submenuTriggersSelector).removeAttr("tabindex"),(0,o.default)(this.inlineDialogSelector).removeAttr("responds-to"),this.isAnimated()||this.$el.trigger(o.default.Event(b+"expand-end",{isResponsive:t})),this},g.prototype.expand=function(){return this.isCollapsed()&&this._expand(this._previousViewportWidth,!1),this},g.prototype.isAnimated=function(){return this.$el.hasClass("aui-is-animated")},g.prototype.isCollapsed=function(){return"false"===this.$el.attr("aria-expanded")},g.prototype.isViewportNarrow=function(e){return(e=void 0===e?this._previousViewportWidth:e)<1240},g.prototype._removeAllTooltips=function(){(0,o.default)(this.tooltipSelector).remove()},g.prototype.responsiveReflow=function(e,t){if(e){if(!this.isCollapsed()&&this.isViewportNarrow(t)){var i=this.isAnimated();i&&this.$el.removeClass("aui-is-animated"),this.collapse(),i&&(this.$el[0].offsetHeight,this.$el.addClass("aui-is-animated"))}}else t!==this._previousViewportWidth&&this.setCollapsedState(t)},g.prototype.reflow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.pageYOffset,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement.clientHeight,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.innerWidth,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.documentElement.scrollHeight,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window.pageXOffset,a=v(this.$el),s=null===this._previousViewportWidth;if(e!==this._previousScrollTop||t!==this._previousViewportHeight||a!==this._previousOffsetTop){this.isCollapsed()&&!s&&e!==this._previousScrollTop&&($(),this._removeAllTooltips());var r=this.$body.hasClass("aui-page-sidebar-touch"),u=e!==this._previousScrollTop&&(e<0||e+t>o);r||!s&&u||(this.setHeight(e,t,a),this.setTopPosition(e))}if(n!==this._previousScrollLeft&&this.setLeftPosition(n),"false"!==this.$el.attr("data-aui-responsive"))this.responsiveReflow(s,i);else{var l=!this.isCollapsed()&&this.isViewportNarrow(i);this.$el.toggleClass("aui-sidebar-fly-out",l)}return this._previousScrollTop=e,this._previousViewportHeight=t,this._previousViewportWidth=i,this._previousOffsetTop=a,this._previousScrollLeft=n,this},g.prototype.toggle=function(){return this.isCollapsed()?(this.expand(),this._removeAllTooltips()):this.collapse(),this},g.prototype.submenuTriggersSelector=".aui-sidebar-group:not(.aui-sidebar-group-tier-one)",g.prototype.collapsedTriggersSelector=[g.prototype.submenuTriggersSelector,".aui-sidebar-group.aui-sidebar-group-tier-one > .aui-nav > li > a",".aui-sidebar-footer > .aui-sidebar-settings-button"].join(", "),g.prototype.toggleSelector=".aui-sidebar-footer > .aui-sidebar-toggle",g.prototype.tooltipSelector=".aui-sidebar-section-tooltip",g.prototype.inlineDialogClass="aui-sidebar-submenu-dialog",g.prototype.inlineDialogSelector="."+g.prototype.inlineDialogClass,w.prototype.submenu=function(e){return P(),k(e)},w.prototype.hasSubmenu=function(e){return P(),C(e)},w.prototype.submenuHeadingHeight=function(){return P(),34},w.prototype.isShowing=function(){return P(),g.prototype.isSubmenuVisible()},w.prototype.show=function(e,t){P(),function(e){_(e).open=!0}(t)},w.prototype.hide=function(){P(),$()},w.prototype.inlineDialogShowHandler=function(){P()},w.prototype.inlineDialogHideHandler=function(){P()},w.prototype.moveSubmenuToInlineDialog=function(){P()},w.prototype.restoreSubmenu=function(){P()},g.prototype.getVisibleSubmenus=function(){return Array.prototype.filter.call(m(),function(e){return e.open})},g.prototype.isSubmenuVisible=function(){return this.getVisibleSubmenus().length>0};var S='<div class="aui-inline-dialog-contents"><div class="aui-sidebar-submenu" ><div class="aui-navgroup aui-navgroup-vertical"><div class="aui-navgroup-inner"><div class="aui-nav-heading"><strong></strong></div></div></div></div></div>';var T={trigger:"manual",gravity:"w",className:"aui-sidebar-section-tooltip",title:function(){var e=(0,o.default)(this);return e.is("a")?e.attr("title")||e.find(".aui-nav-item-label").text()||e.data("tooltip"):e.children(".aui-nav").attr("title")||e.children(".aui-nav-heading").text()}};function V(e){e.tooltip(T).tooltip("show");var t=e.data("tipsy")&&e.data("tipsy").$tip;t&&t.css({opacity:""}).addClass("tooltip-shown")}function A(e){var t=e.data("tipsy")&&e.data("tipsy").$tip;if(t){var i=t.css("transition-duration");if(i){var o=i.indexOf("ms")>=0?parseInt(i.substring(0,i.length-2),10):1e3*parseInt(i.substring(0,i.length-1),10);setTimeout(function(){t.hasClass("tooltip-shown")&&(e.tooltip("hide"),t.removeClass("tooltip-shown"))},o)}else t.removeClass("tooltip-shown")}}var D=(0,f.default)("sidebar",g);(0,o.default)(function(){D(".aui-sidebar")});var P=a.getMessageLogger("Sidebar.submenus",{removeInVersion:"9.0.0",sinceVersion:"5.8.0"});(0,s.default)("sidebar",D),t.default=D,e.exports=t.default},XxUV:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(window.matchMedia)return window.matchMedia(e).matches;var t=document.createElement("style");t.type="text/css",t.id="testMedia",t.innerText="@media "+e+" { #testMedia { width: 1px; } }",document.head.appendChild(t);var i="1px"===window.getComputedStyle(t,null).width;return t.parentNode.removeChild(t),i},e.exports=t.default},h2ur:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=window.DocumentTouch,n="ontouchstart"in window||o&&document instanceof o;t.default=n,e.exports=t.default},kV0L:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"value"in e||e.isContentEditable},e.exports=t.default},pju7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sidebar=void 0;var o=i("Wzva");Object.defineProperty(t,"sidebar",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(o).default}}),i("FStl"),i("Q0fs"),i("rSV2"),i("nqD9"),i("iQXk"),i("IxCr"),i("S3ao"),i("YQ7q"),i("pDZt"),i("eC/R"),i("Rvtc"),i("Nu/Z"),i("6wVx")}},[["pju7","runtime","aui.splitchunk.vendors--1df5b34e16","aui.splitchunk.vendors--084821f40b","aui.splitchunk.vendors--be1eb78c1a","aui.splitchunk.vendors--23f50a6f00","aui.splitchunk.172ffb6da7","aui.splitchunk.b0831cc7d0","aui.splitchunk.572a8bf5cd","aui.splitchunk.a16cabd587","aui.splitchunk.fbd1a5ab27","aui.splitchunk.d49cf794d2","aui.splitchunk.54d3f16c20","aui.splitchunk.336ae4f9e7","aui.splitchunk.1659111a3c","aui.splitchunk.bc4873e5f9","aui.splitchunk.1df5b34e16","aui.splitchunk.fb15cffa72","aui.splitchunk.56dfb54d0c","aui.splitchunk.8659b532c1","aui.splitchunk.908fe798b4","aui.splitchunk.3e0cdb810a","aui.splitchunk.cd8d39be78","aui.splitchunk.d0110a864f","aui.splitchunk.afa5039e04","aui.splitchunk.c750721820","aui.splitchunk.6d6f245ed3","aui.splitchunk.ed80e00f15","aui.splitchunk.53839a15cf","aui.splitchunk.084821f40b","aui.splitchunk.5b8c290363","aui.splitchunk.baa83dbaf9","aui.splitchunk.b2ecdd4179","aui.splitchunk.36cd9d521c","aui.splitchunk.be1eb78c1a","aui.splitchunk.d925afe2c0","aui.splitchunk.b652d2668a","aui.splitchunk.5b7fdbd666","aui.splitchunk.8a641c03a4","aui.splitchunk.23f50a6f00","aui.splitchunk.e6408ec84b","aui.splitchunk.d727dd207f","aui.splitchunk.543254b237","aui.splitchunk.141abf7fb1","aui.splitchunk.036a05e5ff","aui.splitchunk.a2b2c71491"]]]);
//# sourceMappingURL=aui.chunk.3544223acb9a2aeec176--07d4976cc02e79022e83.js.map;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-expansion-manager', location = '/sidebar/expansion-manager.js' */
define("jira/projects/sidebar/expansion-manager",["wrm/data"],function(a){var c="jira-sidebar-collapsed";var b=Boolean(a.claim("sidebar-collapsed-by-default"));return function(f,h){h||(h=window.localStorage);g();f.on("expand-start",e);f.on("expand-end collapse-end",d);function e(i){if(i.isResponsive&&h[c]==="true"){i.preventDefault()}}function d(i){if(!i.isResponsive&&!f.isViewportNarrow()){h[c]=f.isCollapsed().toString()}}function g(){if(f.reflow()&&f.isViewportNarrow()){return}if((b&&h[c]===undefined)||h[c]==="true"){f.collapse()}else{f.expand()}}}});;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-api', location = '/sidebar/api.js' */
define("jira/api/projects/sidebar",["jira/jquery/deferred","exports"],function(b,a){var d=new b();var c=undefined;a.getSidebar=function(){return d.promise()};a.initAPI=function(e){c=e;AJS.namespace("JIRA.API.Sidebar",null,c);d.resolve(c)}});AJS.namespace("JIRA.API.getSidebar",null,require("jira/api/projects/sidebar").getSidebar);;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-init', location = '/sidebar/main.js' */
require(["jira/jquery/deferred","jira/skate","wrm/require","jquery","jira/api/projects","jira/util/logger","jira/projects/sidebar/expansion-manager","jira/ajs/dark-features"],function(h,e,f,k,a,i,b,l){var g=false;var d=(function(){var m=new h();k(function(){m.resolve();g=true});return m.promise()})();var j=(function(){if(l.isEnabled("com.atlassian.jira.projects.sidebar.DEFER_RESOURCES")&&!l.isEnabled("com.atlassian.jira.projects.sidebar.DEFER_RESOURCES_KILLSWITCH")){var m=a.getCurrentProjectType();var n=["wrc!jira.project.sidebar"];if(m){n.push("wrc!jira.project.sidebar."+m)}return f(n)}return new h().resolve().promise()})();var c=(function(){var m=new h();document.addEventListener("sidebar:initialised",function(n){b(n.detail);if(n.target.classList.contains("projects-sidebar")){m.resolve(n)}});return m.promise()})();k.when(c,j,d).done(function(p){var m=p.target;var o=m.parentElement.querySelector(".sidebar-placeholder");if(o){m.classList.add("fade-in");o.addEventListener("animationend",function(){o.parentNode.removeChild(o)});o.classList.add("fade-out")}m.classList.remove("sidebar-pending");var n=require("jira/projects/sidebar/sidebar-initializer");n.init(p.detail);i.trace("jira.projects.sidebar.init",{dclFired:g})});e("aui-sidebar",{type:e.type.CLASSNAME,attached:function(n){var o=AJS.sidebar(n);var m=document.createEvent("CustomEvent");m.initCustomEvent("sidebar:initialised",true,false,o);n.dispatchEvent(m)}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-placeholder-init', location = '/sidebar/sidebar-placeholder-init.js' */
define("jira/projects/sidebar/sidebar-placeholder-initializer",["wrm/require","jira/analytics","jira/util/logger"],function(a,b,c){function e(h){f();c.error("Error while rendering sidebar. Message:",h);d("bigpipe.sidebar.render.error",h)}function g(h){d("bigpipe.sidebar.render.success",h)}function f(){a(["wr!jira.webresources:jira-formatter","wr!jira.webresources:messages"],function(){var i=require("jira/util/formatter");var h=require("jira/flag");var j=document.createElement("a");j.setAttribute("href",".");j.textContent="\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443";h.showWarningMsg("",i.format("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0431\u043e\u043a\u043e\u0432\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442 \u0431\u043e\u043b\u044c\u0448\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u0447\u0435\u043c \u043e\u0431\u044b\u0447\u043d\u043e. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 {0}, \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0435.",j.outerHTML))}).fail(function(){c.error("Failed to display sidebar error message due to error when loading WRM dependencies.")})}function d(h,j){var i;if(j&&j.data){i={signature:j.data.signature}}b.send({name:h,data:i})}return{onSuccess:g,onError:e}});;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_sd.admin.email.requests~sd.project.admin~sd.project.sidebar.content~sd.project.view', location = 'sd.admin.email.requests~sd.project.admin~sd.project.sidebar.content~sd.project.view.aaeb846d44d848ccb821.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[93],{374:function(t,e,i){"use strict";i(23),i(693),i(692);e.a=ServiceDesk.Templates.Components.ConfirmationDialog.simple},44:function(t,e,i){"use strict";i.d(e,"c",function(){return h}),i.d(e,"b",function(){return f}),i.d(e,"a",function(){return C});var n=i(3),o=i(2),a=i(0),s=i(1),r=i(27),l=i(10),c=i.n(l),u=i(42),d=i.n(u),m=i(374);function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var h={SAVE_CHANGES:"SAVE_CHANGES",DELETE:"DELETE",CONFIRM:"CONFIRM",CUSTOM:"CUSTOM"},f={LARGE:"LARGE",MEDIUM:"MEDIUM",SMALL:"SMALL"},g=o.a.View.extend({tagName:"section",className:"aui-layer aui-dialog2 sd-aui-dialog2",attributes:{role:"dialog"},template:m.a,mixins:[r.a],namedEvents:["cancelled","escaped","submitCompleted"],events:{"click .js-extra-action-button":"extraButtonClicked","click .js-confirm-action-button":"confirmClicked","click .aui-dialog2-footer-actions .cancel":"onCancel",keyup:"onKeyUp"},initialize:function(t){t=s.default.defaults({},t,{mode:h.CUSTOM,action:a.default.noop,isAsyncAction:!0,title:"sd-confirmation-dialog-default-title",explanation:"sd-confirmation-dialog-default-explanation",id:"sd-confirmation-dialog",button:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",primaryButton:!1,size:f.MEDIUM}),this.mode=t.mode,this.action=t.action,this.isAsyncAction=t.isAsyncAction,this.title=t.title,this.explanation=t.explanation,this.explanationContent=t.explanationContent,this.id=t.id,this.button=t.button,this.primaryButton=t.primaryButton,this.extraButton=t.extraButton,this.size=t.size},extraButtonClicked:function(t){this.extraButton&&this._handleAction(t,this.extraButton.action,this.extraButton.isAsyncAction)},confirmClicked:function(t){this._handleAction(t,this.action,this.isAsyncAction)},_handleAction:function(t,e,i){var n=this;t.preventDefault(),this.disableSubmit(),i?(this.showSpinner(),e().done(function(t){n.showSuccess().done(function(){return n.triggerSubmitCompleted(t)})}).fail(function(t){n.applyErrors(n._getErrorCollection(t),".confirm-dialog-errors",!1,!0),n.enableSubmit()}).always(function(){n.hideSpinner()})):e()},_getErrorCollection:function(t){var e=void 0;try{e=JSON.parse(t.responseText)}catch(t){e={errors:[{errorMessage:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a \u0441 \u0432\u0430\u0448\u0438\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c. \u0415\u0441\u043b\u0438 \u0441\u0438\u043c\u043f\u0442\u043e\u043c\u044b \u043d\u0435 \u0438\u0441\u0447\u0435\u0437\u043d\u0443\u0442, \u0441\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u0432\u0430\u0448\u0438\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u043c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c."}]}}return e},onCancel:function(){this.triggerCancelled()},onKeyUp:function(t){27===t.keyCode&&this.triggerEscaped()},_getFunctionOrValue:function(t){return s.default.isFunction(t)?t():t},render:function(){var t=this._getFunctionOrValue(this.title),e=this._getFunctionOrValue(this.explanation),i=this._getFunctionOrValue(this.explanationContent),o=this._getFunctionOrValue(this.id),s=void 0,r=!0,l=void 0;return this.mode===h.CONFIRM?l="\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c":this.mode===h.DELETE?l="\u0423\u0434\u0430\u043b\u0438\u0442\u044c":this.mode===h.SAVE_CHANGES?l="\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":this.mode===h.CUSTOM&&(l=this.button,r=this.primaryButton),this.extraButton&&(s={isPrimary:this.extraButton.isPrimary,text:this._getFunctionOrValue(this.extraButton.text)}),this.$el.html(Object(a.default)(this.template({title:t,explanation:e,explanationContent:i,button:l,id:o,isPrimaryButton:r,extraButton:s}))),this.$el.attr("id",this.id),this.$el.attr("data-aui-remove-on-hide",!0),this.$el.attr("data-aui-modal",!0),this.$el.addClass(this._getSizeClassName(this.size)),c.a.trace("sd.confirm.dialog.rendered"),this.$el},_getSizeClassName:function(t){var e,i=(p(e={},f.LARGE,"aui-dialog2-large"),p(e,f.MEDIUM,"aui-dialog2-medium"),p(e,f.SMALL,"aui-dialog2-small"),e)[t];if(!i)throw new Error('Unexpected confirmation size value "'+t+'"');return i}}),C=function(t){var e=new g(t),i=new d.a(e.render());return e.listenTo(e,"submitCompleted",function(t){i.$el.trigger("_aui-internal-layer-submitCompleted",t),i.hide(),c.a.trace("sd.confirm.dialog.submit.completed")}),e.listenTo(e,"cancelled",function(){i.$el.trigger("_aui-internal-layer-cancel"),i.hide(),t.onCancel&&t.onCancel()}),e.listenTo(e,"escaped",function(){i.$el.trigger("_aui-internal-layer-escape"),i.hide(),t.onCancel&&t.onCancel()}),i}},692:function(t,e,i){},693:function(t,e,i){"use strict";"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Components&&(ServiceDesk.Templates.Components={}),void 0===ServiceDesk.Templates.Components.ConfirmationDialog&&(ServiceDesk.Templates.Components.ConfirmationDialog={}),ServiceDesk.Templates.Components.ConfirmationDialog.simple=function(t,e){return'<div class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">'+soy.$$escapeHtml(t.title)+'</h2></div><form action="#" method="post"><div class="aui-dialog2-content"><div class="confirm-dialog-errors"></div>'+(t.explanationContent?soy.$$filterNoAutoescape(t.explanationContent):t.explanation?"<p>"+soy.$$escapeHtml(t.explanation)+"</p>":"")+'</div><div class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><div class="buttons"><span class="cv-sd-status js-status"></span>'+(t.extraButton?'<button type="submit" class="aui-button'+(t.extraButton.isPrimary?" aui-button-primary":"")+' js-extra-action-button">'+soy.$$escapeHtml(t.extraButton.text)+"</button>":"")+'<button type="submit" class="aui-button'+(t.isPrimaryButton?" aui-button-primary":"")+' js-confirm-action-button">'+soy.$$escapeHtml(t.button)+'</button><button type="button" class="aui-button aui-button-link cancel">'+soy.$$escapeHtml("\u041e\u0442\u043c\u0435\u043d\u0430")+"</button></div></div></div></form>"},goog.DEBUG&&(ServiceDesk.Templates.Components.ConfirmationDialog.simple.soyTemplateName="ServiceDesk.Templates.Components.ConfirmationDialog.simple");ServiceDesk.Templates.Components.ConfirmationDialog}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_customerportal~sd.project.admin~sd.project.sidebar.content~sd.project.view', location = 'customerportal~sd.project.admin~sd.project.sidebar.content~sd.project.view.86598f7cc243bf10c665.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[92],{43:function(t,e,n){"use strict";n.d(e,"h",function(){return v}),n.d(e,"f",function(){return y}),n.d(e,"g",function(){return j}),n.d(e,"e",function(){return m}),n.d(e,"a",function(){return w}),n.d(e,"c",function(){return O}),n.d(e,"i",function(){return F}),n.d(e,"d",function(){return k}),n.d(e,"b",function(){return x});var r=n(10),a=n.n(r),o=n(9),u=n.n(o),i=n(1),f=n(19),c=n(0),d=n(74),l=function(){return u()().resolve()},s=void 0,g=c.default.noop,h=!1,p=void 0;var v=function(){g(f.default.history.getFragment())},y=function(t,e){if(function(t){var e=i.default.any(f.default.history.handlers,function(e){return!e.hijackProof&&e.route.test(t)});return e||a.a.warn('Fragment URL "'+t+'" did not match any of URL handlers. Is it wrong or the context path is empty?'),e}(t))return p=f.default.history.getFragment(),l().done(function(){f.default.history.getFragment()===t?v():(f.default.history.navigate(t,{trigger:!0,replace:e}),h=!0)}),!0},j=function(){f.default.history.navigate(p,{trigger:!1,replace:!0})},m=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,r=s.replace(/\/+/g,"/").replace(/^\/*/,"").replace(/\/*$/,"/"),a=function(t,e){return t.replace("http://"+e,"").replace("https://"+e,"")}(t,window.location.host).replace(/\/+/g,"/").replace(/^\/*/,"").replace(/\/*$/,"");if(0===a.indexOf(r))return n(a.replace(r,""),e)},w=function(t){var e=t.data("replace-state"),n=t.attr("href");if(n&&0!==n.indexOf("#")){var r=t.prop("href");return m(r,e)}};function b(t){if(!t.isDefaultPrevented()&&!Object(d.a)(t)){var e=Object(c.default)(t.currentTarget);w(e)&&t.preventDefault()}}var O=function(){return h},F=function(t){f.default.history.navigate(t,{trigger:!1,replace:!0})},k=i.default.once(function(t,e){s=t,(e=e||{}).beforeNavigate&&(l=e.beforeNavigate),e.refresh&&(g=e.refresh),Object(c.default)(document).on("click","a",b)}),x=(i.default.once(function(){Object(c.default)(document).off("click","a",b)}),function(){f.default.history.loadUrl()})}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_jira.rich.editor~sd.project.admin~sd.project.sidebar.content~sd.project.view', location = 'jira.rich.editor~sd.project.admin~sd.project.sidebar.content~sd.project.view.8857d57dd5543741808c.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[89],{49:function(s,n){s.exports=require("aui/flag")}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_jira.admin.conf~jira.workflow.view~sd.project.sidebar.content~sd.set.password', location = 'jira.admin.conf~jira.workflow.view~sd.project.sidebar.content~sd.set.password.e93a3545fa229d88437f.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[88],{204:function(i,n){i.exports=require("aui/inline-dialog2")}}]);;
;
/* module-key = 'com.atlassian.auiplugin:split_aui.component.expander', location = 'aui.chunk.8de3505c535ba3bcd956--07d0e4be166aa46a027e.js' */
(window.__auiJsonp=window.__auiJsonp||[]).push([["aui.component.expander"],{HTrG:function(e,t,r){},iFnW:function(e,t,r){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}}(r("+x/D"));var n=(0,a.default)(document),i=function(e){var t={};return t.$trigger=(0,a.default)(e.currentTarget),t.$content=n.find("#"+t.$trigger.attr("aria-controls")),t.triggerIsParent=0!==t.$content.parent().filter(t.$trigger).length,t.$shortContent=t.triggerIsParent?t.$trigger.find(".aui-expander-short-content"):null,t.height=t.$content.css("min-height"),t.isCollapsible=!1!==t.$trigger.data("collapsible"),t.replaceText=t.$trigger.attr("data-replace-text"),t.replaceSelector=t.$trigger.data("replace-selector"),t},o=function(e){if(e.replaceText){var t=e.replaceSelector?e.$trigger.find(e.replaceSelector):e.$trigger;e.$trigger.attr("data-replace-text",t.text()),t.text(e.replaceText)}},d={"aui-expander-invoke":function(e){var t=(0,a.default)(e.currentTarget),r=n.find("#"+t.attr("aria-controls")),i=!1!==t.data("collapsible");"true"===r.attr("aria-expanded")&&i?t.trigger("aui-expander-collapse"):t.trigger("aui-expander-expand")},"aui-expander-expand":function(e){var t=i(e);"true"!==t.$content.attr("aria-expanded")&&(t.$content.attr("aria-expanded","true"),t.$trigger.attr("aria-expanded","true"),t.$content.outerHeight()>0&&t.$content.attr("aria-hidden","false"),o(t),t.triggerIsParent&&t.$shortContent.hide(),t.$trigger.trigger("aui-expander-expanded"))},"aui-expander-collapse":function(e){var t=i(e);"true"===t.$content.attr("aria-expanded")&&(o(t),t.$content.attr("aria-expanded","false"),t.$trigger.attr("aria-expanded","false"),t.triggerIsParent&&t.$shortContent.show(),0===t.$content.outerHeight()&&t.$content.attr("aria-hidden","true"),t.$trigger.trigger("aui-expander-collapsed"))},"click.aui-expander":function(e){(0,a.default)(e.currentTarget).trigger("aui-expander-invoke",e.currentTarget)}};n.on(d,".aui-expander-trigger")},ufFX:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r("HTrG"),r("iFnW")}},[["ufFX","runtime","aui.splitchunk.172ffb6da7","aui.splitchunk.fbd1a5ab27"]]]);
//# sourceMappingURL=aui.chunk.8de3505c535ba3bcd956--07d0e4be166aa46a027e.js.map;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_sd.project.admin~sd.project.sidebar.content~sd.project.view', location = 'sd.project.admin~sd.project.sidebar.content~sd.project.view.a7487c2b3daa647c2ce9.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[102],{113:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var s=i(244),n=i.n(s),a=i(1),r=i(12),o=i.n(r),l=i(60),c=a.default.once(function(){var e=Object(l.a)("com.atlassian.servicedesk.project-ui:ajs-meta");a.default.extend(n.a,e),a.default.each(e,function(e,t){o.a.set(t,e)}),n.a.currentUserCanBrowseUsers=o.a.getBoolean("canBrowseUsers")})},138:function(e,t,i){"use strict";var s=i(3),n=i(0),a=i(2),r=i(456),o=i(455),l=i(454),c=i(453),d=i(145),m=i.n(d),p=(i(739),i(738),i(161),a.a.View.extend({alertBoxTemplate:ServiceDesk.Templates.Shared.Precondition.alertBox,initialize:function(){this.alertsDialog=this._createAlertDialog(),this.setElement(".sd-alerts-list"),this.render()},_createAlertDialog:function(){var e=new m.a({width:840,id:"sd-alerts-dialog",closeOnOutsideClick:!0});return e.addHeader("\u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u0412\u0430\u0448\u0435\u0433\u043e \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u044f..."),e.addPanel("SinglePanel","<div class='sd-alerts-list'></div>","sd-alerts-dialog-panel"),Object(n.default)(".sd-alerts-dialog-panel").css("height","auto"),Object(n.default)("#sd-alerts-dialog").css("height","auto").find("h2").prepend("<span class='aui-icon aui-icon-close alerts-dialog-close-icon js-alerts-dialog-closer'></span>"),Object(n.default)(document).on("hideLayer",function(t,i,s){s.element&&s.element.attr("id")===e.id&&e.popup.remove()}),e},_getTemplate:function(e){var t=ServiceDesk.Templates.Shared.Precondition[e];return t||(t=ServiceDesk.Templates.Shared.Precondition.defaultTemplate),t},render:function(){var e=this;return this.$el.empty(),this.collection.each(this._createAlertView,this),this.alertsDialog.popup.element.find(".js-alerts-dialog-closer").on("click",function(t){Object(n.default)(t.target).hasClass("alerts-dialog-close-icon")&&t.preventDefault(),setTimeout(function(){e.alertsDialog.hide()},0)}),this},_createAlertView:function(e,t){var i="sd-alert-"+t;this.$el.append(this.alertBoxTemplate({isMajor:"ErrorAlert"===e.getSeverity().name,summary:e.getSummary(),alertId:i}));new("permissionSchemeMisconfigAlert"===e.getTemplateName()?l.a:"legacyTransitionDeprecatedAlert"===e.getTemplateName()?c.a:"defaultNotificationRuleAlert"===e.getTemplateName()?r.a:o.a)({template:this._getTemplate(e.getTemplateName()),el:this.$("#"+i),model:e}).render()},show:function(){this.alertsDialog.show()}}));p.id="sd-alerts-dialog",t.a=p},145:function(e,t){e.exports=require("aui/dialog")},161:function(e,t,i){},244:function(e,t){e.exports=require("aui/params")},453:function(e,t,i){"use strict";var s=i(3),n=i(2),a=i(8),r=i(27),o=i(5),l=i(7),c=i.n(l);t.a=n.a.View.extend({getUrl:function(){return c()()+"/rest/servicedesk/admin/1/servicedesk/disableLegacyTransition/"+this.model.getTemplateParams().serviceDeskId},mixins:[r.a],events:{"submit form":"_disableLegacyTransition"},initialize:function(e){this.template=e.template},_disableLegacyTransition:function(e){var t=this;e.preventDefault(),this.disableSubmit(),this.showSpinner(),o.a.trackEvent("admin.legacy.transition.disabled"),Object(a.g)(this.getUrl(),{}).done(function(){location.reload()}).fail(function(e){t._handleError(e)})},_handleError:function(e){this.hideSpinner();var t="",i=JSON.parse(e.responseText);t=i&&i.errors?i.errors[0].errorMessage:"\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043c\u044b \u043d\u0435 \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u044d\u0442\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438. \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.",this.$(".sd-disable-legacy-transition-error").text(t)},render:function(){var e=this.model.getTemplateParams();return this.$el.html(this.template(e)),this}})},454:function(e,t,i){"use strict";var s=i(7),n=i.n(s),a=i(3),r=i(12),o=i.n(r),l=i(0),c=i(2),d=i(1),m=i(8),p=i(27),u=i(44);i(161);t.a=c.a.View.extend({getFixUrl:function(){var e=o.a.get("projectKey");return n()()+"/rest/servicedesk/1/permission/configuration/"+e+"/misconfiguration/fix"},getDismissUrl:function(){var e=o.a.get("projectKey");return n()()+"/rest/servicedesk/1/permission/configuration/"+e+"/misconfiguration/dismiss"},mixins:[p.a],events:{"submit form":"_fixPermissionScheme","click .sd-dismiss-permission-errors-button":"_dismissPermissionSchemeWarnings"},initialize:function(e){this.template=e.template},_fixPermissionScheme:function(e){e.preventDefault(),this.disableSubmit(),this.showSpinner(this.$(".sd-fix-permissions-button")),Object(m.e)(this.getFixUrl(),{}).done(function(){location.reload()}).fail(this._handleErrors.bind(this))},_dismissPermissionSchemeWarnings:function(){var e=this;this._dismissAbort(),this._confirmAcknowledgeDialog=Object(u.a)({title:"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 \u0441\u0445\u0435\u043c\u044b \u043f\u0440\u0430\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0430",explanation:"\u042d\u0442\u043e \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f, \u043d\u043e \u0432\u0430\u043c \u043f\u0440\u0438\u0434\u0435\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a.",mode:u.c.CUSTOM,button:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435",primaryButton:!0,id:"sd-acknowledge-permission-errors-confirm",action:function(){return e._dismissReq=Object(m.g)(e.getDismissUrl(),{}).done(function(){location.reload()}),e._dismissReq}}),Object(l.default)("#sd-alerts-dialog").hide(),this._confirmAcknowledgeDialog.show()},_dismissAbort:function(){this._dismissReq&&"resolved"!==this._dismissReq.state()&&this._dismissReq.abort()},_handleErrors:function(e,t){this.hideSpinner(this.$(".sd-fix-permissions-button"));var i=JSON.parse(e.responseText),s=t;i&&(i.errors?(s="",d.default.each(i.errors,function(e){s+=e.errorMessage+" "})):i.message&&(s=i.message)),this.$(".sd-fix-permissions-errors").text(s)},render:function(){var e=this.model.getTemplateParams();return this.$el.html(this.template(e)),this}})},455:function(e,t,i){"use strict";var s=i(2);i(161);t.a=s.a.View.extend({initialize:function(e){this.template=e.template},render:function(){var e=this.model.getTemplateParams();return this.$el.html(this.template(e)),this}})},456:function(e,t,i){"use strict";var s=i(3),n=i(2),a=i(8),r=i(12),o=i.n(r),l=i(7),c=i.n(l),d=i(5);i(161);var m,p,u;t.a=n.a.View.extend({events:(m={},p="click .js-fix-notification-rule",u="_fixNotificationRules",p in m?Object.defineProperty(m,p,{value:u,enumerable:!0,configurable:!0,writable:!0}):m[p]=u,m),disable:function(){this.undelegateEvents()},initialize:function(e){this.template=e.template},_getMisconfigurationFixUrl:function(){var e=o.a.get("projectKey");return c()()+"/rest/servicedesk/notifications/1/misconfiguration/"+e+"/fix"},_fixNotificationRules:function(e){e.preventDefault(),this._disableFixButton(),d.a.trackEvent("page.view.admin.alert.custom.notification.misconfiguration.fix"),Object(a.e)(this._getMisconfigurationFixUrl(),{}).done(function(){location.reload()}).fail(this._handleErrors.bind(this))},_disableFixButton:function(){this.$(".js-fix-notification-rule").attr({"aria-disabled":"aria-disabled",disabled:"disabled"})},_handleErrors:function(){this.$(".sd-fix-notification-rules-error").text("\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u043f\u043e\u043f\u044b\u0442\u043a\u0438 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u0430\u0432\u0438\u043b \u0434\u043b\u044f email-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443."),this._enableFixButton()},_enableFixButton:function(){this.$(".js-fix-notification-rule").removeAttr("aria-disabled disabled")},render:function(){d.a.trackEvent("page.view.admin.alert.custom.notification.misconfiguration.view");var e=this.model.getTemplateParams();return this.$el.html(this.template(e)),this}})},700:function(e,t,i){e.exports=void 0},738:function(e,t,i){"use strict";"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Shared&&(ServiceDesk.Templates.Shared={}),void 0===ServiceDesk.Templates.Shared.Precondition&&(ServiceDesk.Templates.Shared.Precondition={}),ServiceDesk.Templates.Shared.Precondition.alertSummary=function(e,t){return e.isMajor?'<div class="aui-message aui-message-error"><p>'+soy.$$escapeHtml("\u042d\u0442\u043e\u0442 Service Desk \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e.")+'</p><p><a href="#">'+soy.$$escapeHtml("\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0438 \u0443\u0441\u0442\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443")+"</a></p></div>":'<div class="aui-message aui-message-warning"><p>'+soy.$$escapeHtml("\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u044d\u0442\u043e\u0433\u043e Service Desk \u043f\u0440\u043e\u0435\u043a\u0442\u0430.")+'</p><p><a href="#">'+soy.$$escapeHtml("\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u0443\u0441\u0442\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443")+"</a></p></div>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Precondition.alertSummary.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.alertSummary"),ServiceDesk.Templates.Shared.Precondition.alertBox=function(e,t){return'<div class="sd-alert">'+(e.isMajor?'<div class="sd-alert-ribbon-error"><div class="aui-icon aui-icon-small aui-iconfont-error sd-alert-icon-error"></div></div>':'<div class="sd-alert-ribbon-warning"><div class="aui-icon aui-icon-small aui-iconfont-warning sd-alert-icon-warning"></div></div>')+'<div class="sd-alert-content"><p><strong>'+soy.$$escapeHtml(e.summary)+'</strong></p><div id="'+soy.$$escapeHtml(e.alertId)+'"></div></div></div>'},goog.DEBUG&&(ServiceDesk.Templates.Shared.Precondition.alertBox.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.alertBox");ServiceDesk.Templates.Shared.Precondition},739:function(e,t,i){"use strict";i(23),i(21),i(700),i(99);"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Shared&&(ServiceDesk.Templates.Shared={}),void 0===ServiceDesk.Templates.Shared.Precondition&&(ServiceDesk.Templates.Shared.Precondition={}),ServiceDesk.Templates.Shared.Precondition.missingFields=function(e,t){for(var i='<div class="missing-fields-alert"><p>'+soy.$$escapeHtml(AJS.format("\u041d\u0435\u0442 {0,choice, 1#\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u043f\u043e\u043b\u044f \u0438\u0437 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u044d\u043a\u0440\u0430\u043d\", \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0433\u043e| 1\u003c\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u043f\u043e\u043b\u0435\u0439 \u0438\u0437 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u044d\u043a\u0440\u0430\u043d\", \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445} \u0441 \u044d\u0442\u0438\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u043c. \u0412 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c\u0438 \u0444\u043e\u0440\u043c\u0430\u043c\u0438:",e.missingFieldNames.length,e.requestTypes.length))+"</p><ul>",s=e.requestTypes,n=s.length,a=0;a<n;a++){var r=s[a];i+="<li>"+soy.$$escapeHtml(r.name)+' <span class="issueType">('+soy.$$escapeHtml(r.issueTypeName)+")</span></li>"}i+='</ul><p class="call-to-action">';var o='<a href="'+soy.$$escapeHtml(AJS.contextPath())+"/secure/admin/ConfigureFieldScreen.jspa?id="+soy.$$escapeHtml(e.screenId)+'">';i+=(e.globalAdmin?soy.$$filterNoAutoescape(AJS.format("\u0414\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u044d\u0442\u0438\u0445 \u0444\u043e\u0440\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u043b\u044f \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u043a\u0440\u0430\u043d {0}\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u044d\u043a\u0440\u0430\u043d{1}:",o,"</a>")):soy.$$filterNoAutoescape(AJS.format("To repair these Request Forms, ask your Jira administrator to add the following fields to the {0}Create Screen{1}:",o,"</a>",e.screenSchemeName)))+"</p><ul>";for(var l=e.missingFieldNames,c=l.length,d=0;d<c;d++){var m=l[d];i+="<li>"+soy.$$escapeHtml(m)+"</li>"}return i+="</ul></div>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Precondition.missingFields.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.missingFields"),ServiceDesk.Templates.Shared.Precondition.missingValueAlert=function(e,t){for(var i='<div class="field-missing-value-alert"><p>'+soy.$$escapeHtml("\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0441\u043a\u0440\u044b\u0442\u044b\u0435 \u043f\u043e\u043b\u044f \u0432 \u0442\u0438\u043f\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442 \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439:")+"</p><ul>",s=e.fieldNames,n=s.length,a=0;a<n;a++){var r=s[a];i+="<li>"+soy.$$escapeHtml(r)+"</li>"}i+='</ul><p class="call-to-action">';var o='<a href="'+soy.$$escapeHtml(e.requestTypeUrl)+'" class="js-alerts-dialog-closer" data-requesttype-id="'+soy.$$escapeHtml(e.requestTypeId)+'">';return i+=(e.canEditPortal?soy.$$filterNoAutoescape(AJS.format("\u0414\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438 \u0442\u0438\u043f\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u044d\u0442\u0438\u0445 \u043f\u043e\u043b\u0435\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 {0}\u043f\u043e\u043b\u0435\u0439{1}.",o,"</a>")):soy.$$escapeHtml("\u0414\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u044d\u0442\u043e\u0439 \u0444\u043e\u0440\u043c\u044b \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u044d\u0442\u0438\u0445 \u043f\u043e\u043b\u0435\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043f\u043e\u043b\u0435\u0439 \u0437\u0430\u043f\u0440\u043e\u0441\u0430."))+"</p></div>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Precondition.missingValueAlert.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.missingValueAlert"),ServiceDesk.Templates.Shared.Precondition.fieldMissingOptionsAlert=function(e,t){for(var i='<div class="field-missing-value-alert"><p>'+soy.$$escapeHtml("\u0414\u043b\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u043f\u043e\u043b\u0435\u0439 \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f:")+"</p><ul>",s=e.fieldNames,n=s.length,a=0;a<n;a++){var r=s[a];i+="<li>"+soy.$$escapeHtml(r)+"</li>"}i+="</ul><p>"+soy.$$escapeHtml("\u0412 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u0438 \u0444\u043e\u0440\u043c\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432:")+"</p><ul>";for(var o=e.requestTypeNames,l=o.length,c=0;c<l;c++){var d=o[c];i+="<li>"+soy.$$escapeHtml(d)+"</li>"}if(i+='</ul><p class="call-to-action">',"version"==e.callToAction){var m='<a href="'+soy.$$escapeHtml(AJS.contextPath())+"/plugins/servlet/project-config/"+soy.$$escapeHtml(e.projectKey)+'/versions">';i+=soy.$$filterNoAutoescape(AJS.format("\u0414\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438 \u044d\u0442\u0438\u0445 \u0444\u043e\u0440\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u044d\u0442\u0438\u0445 \u043f\u043e\u043b\u0435\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 {0}\u0432\u0435\u0440\u0441\u0438\u0439{1} \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430.",m,"</a>"))}else if("components"==e.callToAction){var p='<a href="'+soy.$$escapeHtml(AJS.contextPath())+"/plugins/servlet/project-config/"+soy.$$escapeHtml(e.projectKey)+'/components">';i+=soy.$$filterNoAutoescape(AJS.format("\u0414\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438 \u044d\u0442\u0438\u0445 \u0444\u043e\u0440\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u044d\u0442\u0438\u0445 \u043f\u043e\u043b\u0435\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 {0}\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432{1} \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430.",p,"</a>"))}else if(null!=e.customFieldId){var u='<a href="'+soy.$$escapeHtml(AJS.contextPath())+"/secure/admin/ConfigureCustomField!default.jspa?customFieldId="+soy.$$escapeHtml(e.customFieldId)+'">';i+=e.globalAdmin?soy.$$filterNoAutoescape(AJS.format("\u0414\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438 \u044d\u0442\u0438\u0445 \u0444\u043e\u0440\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u044d\u0442\u0438\u0445 \u043f\u043e\u043b\u0435\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 {0}\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043f\u043e\u043b\u044f{1}.",u,"</a>")):soy.$$filterNoAutoescape(AJS.format("To repair these Request Forms, ask your Jira administrator to add values for these fields on this {0}Configure Custom Field{1} page.",u,"</a>"))}return i+="</p></div>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Precondition.fieldMissingOptionsAlert.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.fieldMissingOptionsAlert"),ServiceDesk.Templates.Shared.Precondition.permissionSchemeMisconfigAlert=function(e,t){for(var i="<p>"+(e.userCanAdministerServiceDesk?'<p class="sd-fix-permissions-info">'+soy.$$escapeHtml("\u042d\u0442\u043e\u0442 Service Desk \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0438\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c.")+ServiceDesk.Templates.Shared.Utils.helpLink({helpLinkKey:"resolve.permission.scheme.errors",analyticsKey:"agent.precondition.error.permission.misconfig",linkText:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"})+"</p>":"<p>"+soy.$$escapeHtml("\u041f\u043e\u043f\u0440\u043e\u0441\u0438\u0442\u0435 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 \u043e\u0442\u043b\u0430\u0434\u0438\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 \u043d\u0438\u0436\u0435 \u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0438\u044f:")+"</p>")+"</p>"+aui.expander.trigger({id:"replace-text-trigger",contentId:"permission-error-content",tag:"a",content:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0438\u0439 \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438...",replaceText:"\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438"}),s="<ul>",n=e.errorsMap,a=n.length,r=0;r<a;r++){var o=n[r];s+=(0!=r?"<br />":"")+"<li>"+soy.$$escapeHtml(o.message)+"<ul>";for(var l=o.permissions,c=l.length,d=0;d<c;d++){var m=l[d];s+="<li>"+soy.$$escapeHtml(m)+"</li>"}s+="</ul></li>"}return s+="</ul>",i+=aui.expander.content({id:"permission-error-content",content:s}),i+=e.userCanAdministerServiceDesk?'<div class="sd-fix-permissions-errors"></div><form class="sd-permission-warning-form" action=""><button type="submit" class="aui-button sd-fix-permissions-button" autocomplete="off">'+soy.$$escapeHtml("\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0445\u0435\u043c\u0443 \u043f\u0440\u0430\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0430")+"</button>"+(e.canBeDismissed?'<button type="button" class="aui-button aui-button-link sd-dismiss-permission-errors-button" autocomplete="off">'+soy.$$escapeHtml("\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u044d\u0442\u043e \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435")+"</button>":"")+'<span class="sd-progress sd-fix-permissions-spinner js-status"></span></form>':""},goog.DEBUG&&(ServiceDesk.Templates.Shared.Precondition.permissionSchemeMisconfigAlert.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.permissionSchemeMisconfigAlert"),ServiceDesk.Templates.Shared.Precondition.invalidProjectRunAsUserConfigAlert=function(e,t){return"<p><p>"+soy.$$escapeHtml("\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u0441\u044f \u043e\u0442 \u0438\u043c\u0435\u043d\u0438 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u0412\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u044d\u0442\u0438\u0445 \u043f\u0440\u0430\u0432\u0438\u043b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442, \u0438\u043b\u0438 \u043e\u043d \u043d\u0435 \u0438\u043c\u0435\u0435\u0442 \u043d\u0430\u0434\u043b\u0435\u0436\u0430\u0449\u0438\u0445 \u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0438\u0439, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0431\u044b\u043b\u043e \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e.")+"</p>"+(e.userCanAdministerServiceDesk?'<a href="'+soy.$$escapeHtml(e.automationUrl)+'" class="aui-button aui-button-link js-alerts-dialog-closer">'+soy.$$escapeHtml("\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")+"</a>":"")+"</p>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Precondition.invalidProjectRunAsUserConfigAlert.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.invalidProjectRunAsUserConfigAlert"),ServiceDesk.Templates.Shared.Precondition.legacyTransitionDeprecatedAlert=function(e,t){var i="<p><p>"+soy.$$escapeHtml("\u0412\u0430\u0448 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 (workflow) Service Desk \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441, \u043a\u043e\u0433\u0434\u0430 \u043a\u043b\u0438\u0435\u043d\u0442 \u0438\u043b\u0438 \u0430\u0433\u0435\u043d\u0442 \u0432\u0432\u043e\u0434\u044f\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438.")+"</p>";if(e.userCanAdministerServiceDesk){i+="<p>";var s='<a href="'+soy.$$escapeHtml(e.automationUrl)+'" class="aui-button aui-button-link js-alerts-dialog-closer">';i+=soy.$$filterNoAutoescape(AJS.format("\u041c\u044b \u0437\u0430\u043c\u0435\u043d\u0438\u043b\u0438 \u044d\u0442\u043e \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c\u044b\u043c\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438. \u041f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0438\u0437\u043c\u0435\u043d\u0435\u043d, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e {0}\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e \"\u041f\u0435\u0440\u0435\u043d\u043e\u0441 \u0432 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439\"{1}, \u0435\u0441\u043b\u0438 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044b.",s,"</a>"))+"</p><p>"+soy.$$escapeHtml("\u041f\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438, \u0435\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u044d\u0442\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044e, \u0449\u0435\u043b\u043a\u043d\u0438\u0442\u0435 \"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044e \u0441\u0435\u0439\u0447\u0430\u0441\" \u043d\u0438\u0436\u0435.")+'</p><div class="sd-disable-legacy-transition-error"></div><form action=""><button type="submit" class="aui-button sd-disable-legacy-transition-button">'+soy.$$escapeHtml("\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044e \u0441\u0435\u0439\u0447\u0430\u0441")+'</button><span class="sd-progress sd-disable-legacy-transition-spinner js-status"></span></form>'}else i+="<p>"+soy.$$escapeHtml("\u041c\u044b \u0437\u0430\u043c\u0435\u043d\u0438\u043b\u0438 \u044d\u0442\u043e \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c\u044b\u043c\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438. \u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043e\u0442 \u0438\u043c\u0435\u043d\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0448\u0430\u0433 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438.")+"</p>";return i+='<p class="sd-disable-legacy-transition-info">'+soy.$$escapeHtml("\u041d\u0443\u0436\u043d\u043e \u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438?")+ServiceDesk.Templates.Shared.Utils.helpKBLink({helpLinkKey:"legacytransition",analyticsKey:"agent.precondition.error.legacytransition",linkText:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0437\u0434\u0435\u0441\u044c."})+"</p></p>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Precondition.legacyTransitionDeprecatedAlert.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.legacyTransitionDeprecatedAlert"),ServiceDesk.Templates.Shared.Precondition.defaultNotificationRuleAlert=function(e,t){return"<p>"+soy.$$escapeHtml("\u041c\u044b \u043d\u0435 \u0441\u043c\u043e\u0433\u043b\u0438 \u043d\u0430\u0439\u0442\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0434\u043b\u044f email-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430. \u0427\u0442\u043e\u0431\u044b \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u043e, \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0432\u0430\u0448\u0438 email-\u043f\u0440\u0430\u0432\u0438\u043b\u0430.")+'</p><br><p><div class="sd-fix-notification-rules-error"></div></p><p>'+aui.buttons.button({text:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043f\u043e\u0447\u0442\u044b",extraClasses:"js-fix-notification-rule"})+"</p>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Precondition.defaultNotificationRuleAlert.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.defaultNotificationRuleAlert"),ServiceDesk.Templates.Shared.Precondition.defaultTemplate=function(e,t){return"<p></p>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Precondition.defaultTemplate.soyTemplateName="ServiceDesk.Templates.Shared.Precondition.defaultTemplate");ServiceDesk.Templates.Shared.Precondition}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_sd.project.sidebar.content~sd.project.view', location = 'sd.project.sidebar.content~sd.project.view.afb7e0099bf3ccdf215a.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[116],{46:function(e,n,r){"use strict";var t=r(50),i=r(60),o=Object(i.a)("sd-kb-link"),c=o&&!o.error,s=window.SDKBLinkService||{isAvailable:function(){return c},hasError:function(){return!!o.error},getError:function(){return o.error},setAvailability:function(e){c=e},setSpaceKey:function(e){c&&(o.spaceKey=e)},setConfluenceUrl:function(e){c&&(o.baseUrl=e)},getSpaceUrl:function(){if(c)return Object(t.d)(o.baseUrl,o.spaceKey)},getSpaceUrlWithCreateDialog:function(){if(c)return Object(t.e)(o.baseUrl,o.spaceKey)}};window.SDKBLinkService=s,n.a=s},730:function(e,n,r){e.exports=void 0},82:function(e,n,r){"use strict";r(730);n.a=JIRA.API}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_customerportal~sd.project.sidebar.content', location = 'customerportal~sd.project.sidebar.content.d397119f450ad855f93f.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[107],{344:function(s,o,n){s.exports=void 0}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_sd.project.sidebar.content', location = 'sd.project.sidebar.content.b5bf8ffb5abeafdf9135.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[143],{134:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var s=n(0),a=(n(628),n(627),function(e){var t=Object(s.default)(ServiceDesk.Templates.Internal.Project.Quick.Copy.Text.input({text:e}));return t.find(".js-quick-copy-text").click(function(e){e.target.focus(),e.target.select()}),t.on("submit",function(e){e.preventDefault(),e.stopPropagation()}),t})},160:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var s=n(10),a=n.n(s),i=n(3),r=n(74),o=n(0),l=n(12),c=n.n(l),d=n(145),u=n.n(d),p=(n(684),n(683),27),m=105,g=void 0;function v(e){var t=ServiceDesk.Templates.Agent.PortalPreview.portalUrlInfo({portalUrl:e});Object(o.default)(".portal-dialog-header-info",g.popup.element).html(t)}function k(){g&&(g.hide(),g.remove(),g=void 0)}function f(e){window.addEventListener("message",function(t){var n,s=function(e){var t=void 0;try{t=JSON.parse(e)}catch(e){a.a.error(e)}return t}(t.data);s&&("cv_routed"===s.event&&e&&(n=s.fragment,v(c.a.get("baseUrl")+"/servicedesk/customer/"+n.replace(/\?.*$/,""))),"portal-tour-complete"===s.event&&(g.popup.element.addClass("portal-tour-complete"),localStorage.setItem("requestKeyCreatedOnTour",s.issueKey)))},!1)}function h(e){var t=function(e){return e.showTour?e.portalUrl+"?portalTour=true":e.portalUrl}(e);g&&k();var n,s={width:Math.min(1280,Object(o.default)(window).width()-50),height:Math.min(800,Object(o.default)(window).height()-50)};return(g=new u.a({id:"sd-customer-portal-dialog",width:s.width,height:s.height})).addPanel("iframe",ServiceDesk.Templates.Agent.PortalPreview.dialogContent({portalUrl:t,iframeHeight:s.height-m,title:e.title}),"iframe-body"),g.get("panel:0").setPadding(0),(n=g.popup.element.find("iframe")).load(function(){n.contents().find("body").keydown(function(e){if(e.keyCode===p){var t=Object(o.default)(e.target);t.is(":input")?t.blur():k()}})}),Object(o.default)("body").on("keydown",function e(t){t.keyCode===p&&(k(),Object(o.default)("body").off("keydown",e))}),f(e.showCustomerUrl),e.showCustomerUrl&&v(e.portalUrl),g.popup.element.find(".dialog-close-button").on("click",k),g.popup.element.find("iframe").load(function(){g.popup.element.addClass("sd-iframe-ready")}),g}var b=function(e,t){if(t=o.default.extend({forceDialog:!1,dialogTitle:"\u0412\u0430\u0448 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u043f\u043e\u0440\u0442\u0430\u043b",showCustomerUrl:!0},t),!Object(r.a)(e)||t.forceDialog){var n=Object(o.default)(e.currentTarget);n.is("a")||(n=n.closest("a")),h({portalUrl:n.prop("href"),showTour:n.hasClass("portal-tour"),title:t.dialogTitle,showCustomerUrl:t.showCustomerUrl}).show(),e.preventDefault()}}},194:function(e,t,n){"use strict";var s=n(3),a=n(1),i=n(2),r=n(136),o=n(170),l=n(432),c=n(46),d=n(5),u=n(431),p=n(12),m=n.n(p),g=n(7),v=n.n(g),k=n(0),f=(n(377),n(220),n(207),".js-sd-kb-smart-search"),h=".js-sd-kb-get-started",b=".js-sd-kb-link-space-action",S=".js-sd-kb-primary-nav-create-footer",T=".js-sd-kb-create-space-action-container",j=".js-sd-kb-get-started-errors",D=".js-sd-kb-footer-container",y=".js-sd-kb-edit-permissions-url";function I(e,t){e.html(ServiceDesk.Templates.Internal.Project.Knowledge.Base.error({errorMessages:t}))}var w={RESULTS_RENDERED:"resultsRendered",QUERY_CHANGE:"queryChanged",EDIT_PERMISSIONS_LINK_CLICKED:"editPermissionsLinkClicked"},E=i.a.View.extend({template:ServiceDesk.Templates.Internal.Project.Knowledge.Base,events:{"click .js-sd-kb-link-space-action":"_showLinkExisting","click .js-sd-kb-create-space-action":"_onCreateSpaceClicked"},initialize:function(){this.projectKey=m.a.get("projectKey"),this.serviceDeskId=m.a.get("serviceDeskId"),Object(r.b)("servicedesk.project.sidebar.kb.primary.nav",{searchOrigin:"kb-primary-nav"}),this.model=new u.a({projectKey:this.projectKey}),this.linkExisting=new l.a(this.model),this.model.fetchAppLink(),Object(k.default)("body").on("click","#space-suggestions",function(e){e.stopPropagation()}),this.listenTo(this.linkExisting,this.linkExisting.EVENT.KB_LINKED,this._onKbLinked),this._initSearch()},render:function(){if((this.isKbEnabled=c.a.isAvailable(),this.$el.html(this.template.contents({isKbLinked:this.isKbEnabled})),this._renderDefaultFooter(this.isKbEnabled),this.isKbEnabled&&(this._renderSearch(),this._renderCreateFooter()),!this.isKbEnabled&&c.a.hasError())&&"sd.applinks.error.missing"===c.a.getError().key){var e=[s.format("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a Confluence, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 {0}\u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435{1} \u0438\u043b\u0438 \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e \u0434\u0440\u0443\u0433\u043e\u0439 \u0431\u0430\u0437\u044b \u0437\u043d\u0430\u043d\u0438\u0439.",'<a href="'+v()()+'/plugins/servlet/applinks/listApplicationLinks" target="_blank">',"</a>")];I(this.$(j),[e])}},focus:function(){this.isKbEnabled?this.kbSearchController.focus():this.$(b).focus()},hasQuery:function(){return this.kbSearchController&&this.kbSearchController.hasQuery()},_renderDefaultFooter:function(e){this.$(D).html(this.template.footer({kbEnabled:e}))},_renderCreateFooter:function(){this.$(S).html(this.template.createArticleAndGoToConfluenceFooter({createDialogUrl:c.a.getSpaceUrlWithCreateDialog(),spaceUrl:c.a.getSpaceUrl()}))},_initSearch:function(){var e=this,t=Object(r.b)("servicedesk.project.sidebar.kb.primary.nav",{searchOrigin:"kb-primary-nav"});this.kbSearchController=new o.a(t,{projectKey:this.projectKey,serviceDeskId:this.serviceDeskId,hidePadlock:!0}),this.listenTo(this.kbSearchController,"searchQueryChanged",function(t){return e._onSearchQueryChanged(t)}),this.listenTo(this.kbSearchController,this.kbSearchController.EVENT.RESULTS_RENDERED,function(){e.trigger(w.RESULTS_RENDERED)})},_renderSearch:function(){var e=this.$(f);this.kbSearchController.reset(),this.kbSearchController.setElement(e),this.kbSearchController.render(),this.kbSearchController.enableSearch()},_showLinkExisting:function(e){d.a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.link.existing.space.clicked"),e.stopPropagation(),this.linkExisting.setElement(this.$(h)),this.linkExisting.render()},_onKbLinked:function(e){var t=this;this.render(),this.$(D).prepend(this.template.completed(e)),this.$(y).click(function(){return t.trigger(w.EDIT_PERMISSIONS_LINK_CLICKED)}),c.a.setAvailability(!0),this.kbSearchController.focus()},_onSearchQueryChanged:function(){this.$(S).html(""),this.hasQuery()||this._renderCreateFooter(),this.trigger(w.QUERY_CHANGE)},_onCreateSpaceClicked:function(e){var t=this;d.a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.create.space.clicked");var n=this.$(T);e.stopPropagation(),n.html(""),this.$(j).html(""),n.spin("small"),this.model.createSpaceForProject(this.projectKey).fail(function(e){t._renderDefaultFooter(),t._initSearch(),I(t.$(j),a.default.pluck(e.errors,"errorMessage"))}).done(function(e){var n,s,a;c.a.setAvailability(!0),c.a.setSpaceKey(e.spaceKey),c.a.setConfluenceUrl(e.appLinkUrl),t.render(),n=t.$(D),s=e.spaceName,a=e.spaceKey,n.prepend(ServiceDesk.Templates.Internal.Project.Knowledge.Base.createSpaceCompleted({spaceName:s,spaceKey:a})),t.kbSearchController.focus()})}});E.EVENT=w,t.a=E},220:function(e,t,n){"use strict";n(23),n(21);"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Internal&&(ServiceDesk.Templates.Internal={}),void 0===ServiceDesk.Templates.Internal.Project&&(ServiceDesk.Templates.Internal.Project={}),void 0===ServiceDesk.Templates.Internal.Project.Knowledge&&(ServiceDesk.Templates.Internal.Project.Knowledge={}),void 0===ServiceDesk.Templates.Internal.Project.Knowledge.Base&&(ServiceDesk.Templates.Internal.Project.Knowledge.Base={}),ServiceDesk.Templates.Internal.Project.Knowledge.Base.contents=function(e,t){return'<h2 class="dialog-title">'+soy.$$escapeHtml("\u0411\u0430\u0437\u0430 \u0437\u043d\u0430\u043d\u0438\u0439")+"</h2>"+(e.isKbLinked?'<div class="js-sd-kb-smart-search"></div>':'<div class="js-sd-kb-logo sd-kb-logo"></div>')+'<div class="js-sd-kb-footer-container"></div>'},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Knowledge.Base.contents.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.contents"),ServiceDesk.Templates.Internal.Project.Knowledge.Base.footer=function(e,t){return(e.kbEnabled?"":'<div class="js-sd-kb-get-started sd-kb-get-started"><h4 class="dialog-title">'+soy.$$escapeHtml("Set up a knowledge base")+'</h4><p class="sd-kb-primary-nav-description-text">'+soy.$$escapeHtml("Make it easier for your customers to find the answers they need.")+'</p><div class="sd-kb-space-actions">'+ServiceDesk.Templates.Internal.Project.Knowledge.Base.getStartedSpaceActions(null)+"</div></div>")+'<div class="sd-kb-primary-nav-create-article-container js-sd-kb-primary-nav-create-footer"></div>'},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Knowledge.Base.footer.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.footer"),ServiceDesk.Templates.Internal.Project.Knowledge.Base.getStartedSpaceActions=function(e,t){return aui.buttons.button({text:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u0434\u043b\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0438",extraClasses:"js-sd-kb-link-space-action",type:"primary"})+'<span class="js-sd-kb-create-space-action-container sd-kb-action-link-container">'+aui.buttons.button({text:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0443",type:"link",extraClasses:"js-sd-kb-create-space-action"})+'</span><div class="js-sd-kb-get-started-errors"></div>'},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Knowledge.Base.getStartedSpaceActions.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.getStartedSpaceActions"),ServiceDesk.Templates.Internal.Project.Knowledge.Base.createArticleAndGoToConfluenceFooter=function(e,t){return'<div class="sd-kb-primary-nav-create-article-footer"><a href="'+soy.$$escapeHtml(e.createDialogUrl)+'" target="_blank" class="aui-button sd-kb-create-article-link js-create-article-link">'+soy.$$escapeHtml("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e")+'</a><a href="'+soy.$$escapeHtml(e.spaceUrl)+'" target="_blank" class="js-go-to-confluence-link">'+soy.$$escapeHtml("\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043b\u0438\u044f\u043d\u0438\u044e")+"</a></div>"},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Knowledge.Base.createArticleAndGoToConfluenceFooter.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.createArticleAndGoToConfluenceFooter"),ServiceDesk.Templates.Internal.Project.Knowledge.Base.createSpaceCompleted=function(e,t){return'<p class="js-sd-kb-linked-success-message js-linked-success-message">'+soy.$$escapeHtml(AJS.format("{0}  \u0441\u043e\u0437\u0434\u0430\u043d\u043e \u0438 \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u043e! ",e.spaceName))+'<span class="aui-icon aui-icon-small aui-iconfont-approve linked-success-icon"></span></p>'},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Knowledge.Base.createSpaceCompleted.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.createSpaceCompleted"),ServiceDesk.Templates.Internal.Project.Knowledge.Base.error=function(e,t){for(var n='<ul class="sd-kb-primary-nav-error-messages">',s=e.errorMessages,a=s.length,i=0;i<a;i++){var r=s[i];n+='<li class="error">'+soy.$$filterNoAutoescape(r)+"</li>"}return n+="</ul>"},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Knowledge.Base.error.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.error"),ServiceDesk.Templates.Internal.Project.Knowledge.Base.completed=function(e,t){return'<div class="js-linked-completion"><p class="js-sd-kb-linked-success-message js-linked-success-message">'+soy.$$escapeHtml(AJS.format("{0} \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d!",e.spaceName))+'<span class="aui-icon aui-icon-small aui-iconfont-approve linked-success-icon"></span></p><p><a class="js-sd-kb-edit-permissions-url" href="'+soy.$$escapeHtml(e.editPermissionsUrl)+'">'+soy.$$escapeHtml("\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c, \u043a\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u0438 \u0431\u0430\u0437\u044b \u0437\u043d\u0430\u043d\u0438\u0439")+"</a></p></div>"},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Knowledge.Base.completed.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.completed");ServiceDesk.Templates.Internal.Project.Knowledge.Base},221:function(e,t,n){"use strict";n(23),n(21),n(86),n(85),n(344);"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Internal&&(ServiceDesk.Templates.Internal={}),void 0===ServiceDesk.Templates.Internal.Project&&(ServiceDesk.Templates.Internal.Project={}),void 0===ServiceDesk.Templates.Internal.Project.Invite&&(ServiceDesk.Templates.Internal.Project.Invite={}),void 0===ServiceDesk.Templates.Internal.Project.Invite.Team&&(ServiceDesk.Templates.Internal.Project.Invite.Team={}),ServiceDesk.Templates.Internal.Project.Invite.Team.contents=function(e,t){return'<div class="sd-invite-team-wrapper"><h2 class="dialog-title">'+soy.$$escapeHtml("\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443")+"</h2>"+(e.showInputForm?e.canManageLicenses?'<p class="sd-description-text">'+soy.$$escapeHtml("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043b\u044e\u0434\u0435\u0439 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0433\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0432 \u0412\u0430\u0448\u0435\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435. \u0418\u043c \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f \u043f\u043e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u0435.")+"</p>":'<p class="sd-description-text">'+soy.$$escapeHtml("\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u0430\u0433\u0435\u043d\u0442\u0430 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u043d\u0430\u0434 \u0432\u0430\u0448\u0438\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u043c.")+"</p>":"")+'<div class="sd-agent-management-error js-agent-management-error"></div>'+(e.showInputForm?'<form class="aui top-label sd-invite-team-dialog-form js-invite-team-dialog-form"><div class="field-group js-invite-team-picker-wrapper"><select class="js-invite-team-picker hidden" multiple="multiple" name="username" id="js-invite-team"></select></div></form><div class="sd-number-of-new-agents js-number-of-new-agents"></div>':"")+'<div class="sd-image-people-wrapper js-image-people-wrapper"></div><div class="buttons-container"><div class="buttons">'+(e.showInputForm?aui.buttons.button({text:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c",type:"primary",extraClasses:"js-invite-team-main-button",isDisabled:!0}):"")+aui.buttons.button({text:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"link",extraClasses:"js-invite-team-cancel-button"})+'<span class="cv-sd-status js-status"></span></div></div></div>'},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Invite.Team.contents.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.contents"),ServiceDesk.Templates.Internal.Project.Invite.Team.loading=function(e,t){return'<div class="sd-invite-team-loading"><aui-spinner size="medium"></aui-spinner></div>'},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Invite.Team.loading.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.loading"),ServiceDesk.Templates.Internal.Project.Invite.Team.error=function(e,t){return'<p class="sd-invite-team-error">'+soy.$$escapeHtml("\u041d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.")+"</p>"},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Invite.Team.error.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.error"),ServiceDesk.Templates.Internal.Project.Invite.Team.recipientUsername=function(e,t){return'<li data-userkey="'+soy.$$escapeHtml(e.userkey)+'" data-username="'+soy.$$escapeHtml(e.username)+'" data-item-name="'+soy.$$escapeHtml(e.username)+'" '+(e.isExistedAgent?'class="js-existed-agent"':"")+'><span><span class="user-hover" rel="'+soy.$$escapeHtml(e.username)+'"><img alt="" src="'+soy.$$escapeHtml(e.icon)+'" title="'+soy.$$escapeHtml(e.displayName)+'"><span title="'+soy.$$escapeHtml(e.displayName)+'">'+soy.$$escapeHtml(e.displayName)+"</span></span>"+(e.isExistedAgent?"":'<span class="sd-is-new-agent js-is-new-agent">'+soy.$$escapeHtml("+ \u0430\u0433\u0435\u043d\u0442")+"</span>")+'<span class="js-delete-an-invited-agent sd-delete-an-invited-agent"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete"></span></span></span></li>'},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Invite.Team.recipientUsername.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.recipientUsername"),ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmail=function(e,t){return'<li data-email="'+soy.$$escapeHtml(e.email)+'" data-item-name="'+soy.$$escapeHtml(e.email)+'"><span class="email email-checking">'+soy.$$escapeHtml(e.email)+'</span><aui-spinner class="js-sd-spinner sd-invite-agent-spinner" size="small"></aui-spinner><span class="js-delete-an-invited-agent sd-delete-an-invited-agent"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete"></span></span></li>'},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmail.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.recipientEmail"),ServiceDesk.Templates.Internal.Project.Invite.Team.freeEmailIndicator=function(e,t){return'<span class="sd-is-new-agent js-is-new-agent">'+soy.$$escapeHtml("+ \u0430\u0433\u0435\u043d\u0442")+"</span>"},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Invite.Team.freeEmailIndicator.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.freeEmailIndicator"),ServiceDesk.Templates.Internal.Project.Invite.Team.usedEmailIndicator=function(e,t){return""+aui.icons.icon({useIconFont:!0,size:"small",icon:"error",extraClasses:"js-invite-team-email-error-icon",extraAttributes:{"data-aui-trigger":"","aria-controls":e.errorDialogId}})+aui.inlineDialog2.inlineDialog2({alignment:"right top",respondsTo:"hover",id:e.errorDialogId,content:e.content,extraClasses:"sd-invite-team-error-user-exists"})},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Invite.Team.usedEmailIndicator.soyTemplateName="ServiceDesk.Templates.Internal.Project.Invite.Team.usedEmailIndicator");ServiceDesk.Templates.Internal.Project.Invite.Team},222:function(e,t,n){"use strict";var s=n(2),a=n(363);t.a=s.a.Collection.extend({model:a.a})},223:function(e,t,n){},224:function(e,t,n){"use strict";n(99);"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Internal&&(ServiceDesk.Templates.Internal={}),void 0===ServiceDesk.Templates.Internal.Project&&(ServiceDesk.Templates.Internal.Project={}),void 0===ServiceDesk.Templates.Internal.Project.Customer&&(ServiceDesk.Templates.Internal.Project.Customer={}),void 0===ServiceDesk.Templates.Internal.Project.Customer.Channels&&(ServiceDesk.Templates.Internal.Project.Customer.Channels={}),ServiceDesk.Templates.Internal.Project.Customer.Channels.contents=function(e,t){var n='<div class="sd-customer-channels-wrapper"><div class="sd-customer-channels-portal"><h2 class="sd-dialog-title sd-dialog-title-portal">'+soy.$$escapeHtml("\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u043f\u043e\u0440\u0442\u0430\u043b")+'</h2><div class="js-portal-url-container sd-portal-url-container"></div><a class="js-portal-button-preview aui-button aui-button-link" data-analytics-key="page.view.project.sidebar.customer.channels.dialog.previewportal.clicked" href="'+soy.$$escapeHtml(e.portalUrl)+'">'+soy.$$escapeHtml("\u041f\u043e\u0441\u0435\u0442\u0438\u0442\u044c \u043f\u043e\u0440\u0442\u0430\u043b")+'</a></div><hr><div class="sd-customer-channels-email"><h2 class="sd-dialog-title sd-dialog-title-email">'+soy.$$escapeHtml("\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430")+'</h2><p role="alert" class="js-customer-channels-email-errors sd-customer-channels-email-errors hidden"></p>',s=e.emailAddress,a=s&&e.canManageAddress,i=!s&&e.canManageAddress,r=!s&&!e.canManageAddress;return n+=(s?'<div class="js-email-address-container sd-email-address-container"></div>':"")+(i?'<p class="js-customer-channels-email-description sd-customer-channels-email-description">'+soy.$$escapeHtml("\u041e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0439\u0442\u0435 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043f\u043e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u0435.")+"</p>":"")+(r?'<p class="js-customer-channels-email-description sd-customer-channels-email-description">'+soy.$$escapeHtml("\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u043c\u0443 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443, \u0447\u0442\u043e\u0431\u044b \u0432\u0430\u0448\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u0441\u043c\u043e\u0433\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0447\u0435\u0440\u0435\u0437 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443.")+"</p>":"")+(a?'<a data-analytics-key="page.view.project.sidebar.customer.channels.dialog.manageaddress.clicked" class="js-customer-channels-email-settings-link sd-customer-channels-manage-address aui-button aui-button-link" href="'+soy.$$escapeHtml(e.emailSettingsUrl)+'">'+soy.$$escapeHtml("\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u043e\u0439")+"</a>":"")+(i?'<a data-analytics-key="page.view.project.sidebar.customer.channels.dialog.setupemailrequests.clicked" class="js-customer-channels-email-settings-link sd-customer-channels-setup-email aui-button aui-button-link" href="'+soy.$$escapeHtml(e.emailSettingsUrl)+'">'+soy.$$escapeHtml("\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043f\u043e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u0435")+"</a>":"")+'<div class="sd-customer-channels-email-learn-more">'+ServiceDesk.Templates.Shared.Utils.helpLinkStart({helpLinkKey:"email.setup",analyticsKey:"page.view.customer.channels.dialog.email.link.learn",extraClasses:"aui-button aui-button-link",newTab:!0})+soy.$$escapeHtml("\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435")+ServiceDesk.Templates.Shared.Utils.helpLinkEnd(null)+"</div></div></div>"},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Customer.Channels.contents.soyTemplateName="ServiceDesk.Templates.Internal.Project.Customer.Channels.contents"),ServiceDesk.Templates.Internal.Project.Customer.Channels.loading=function(e,t){return'<div class="sd-customer-channels-loading"><aui-spinner size="medium"></aui-spinner></div>'},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Customer.Channels.loading.soyTemplateName="ServiceDesk.Templates.Internal.Project.Customer.Channels.loading"),ServiceDesk.Templates.Internal.Project.Customer.Channels.newLayoutTour=function(e,t){return'<div class="new-layout-tour"><b>'+soy.$$escapeHtml("A stylish new portal awaits")+"</b>"+(e.isAdmin?"<p>"+soy.$$escapeHtml("We\'re giving you more ways to customize your help center, portals, and login screen. Head over to the help center and we\'ll show you how.")+'<br/><a class="new-layout-tour-learn-more-link new-layout-tour-text-link" target="_blank" href="https://confluence.atlassian.com/display/SERVICEDESK/A+stylish+new+portal+for+Jira+Service+Desk+Server+and+Data+Center+customers">'+soy.$$escapeHtml("Learn more")+'</a></p><p><a target="_blank" href="'+soy.$$escapeHtml(AJS.contextPath())+'/servicedesk/customer/portals?customize=true" class="aui-button aui-button-primary new-layout-tour-customize-link">'+soy.$$escapeHtml("Let\'s go")+'</a><a href="#" class="new-layout-tour-dismiss-link">'+soy.$$escapeHtml("Dismiss")+"</a></p>":"<p>"+soy.$$escapeHtml("We\'re giving you more ways to customize your help center, portals, and login screen. Take a minute to learn what\'s new, then ask your admin to unlock this.")+'</p><p><a class="new-layout-tour-learn-more-link aui-button aui-button-primary" target="_blank" href="https://confluence.atlassian.com/display/SERVICEDESK/A+stylish+new+portal+for+Jira+Service+Desk+Server+and+Data+Center+customers">'+soy.$$escapeHtml("Learn more")+'</a><a href="#" class="new-layout-tour-dismiss-link">'+soy.$$escapeHtml("Dismiss")+"</a></p>")+"</div>"},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Customer.Channels.newLayoutTour.soyTemplateName="ServiceDesk.Templates.Internal.Project.Customer.Channels.newLayoutTour");ServiceDesk.Templates.Internal.Project.Customer.Channels},243:function(e,t,n){"use strict";var s=n(2);t.a=s.a.Model.extend({namedAttributes:{appLinkId:String,name:String,displayUrl:String}})},307:function(e,t,n){"use strict";var s=n(2),a=n(1),i=n(50),r=n(134),o=n(5);n(626),n(625);t.a=s.a.View.extend({template:ServiceDesk.Templates.Internal.Knowledge.Base.Footer.primaryNavDialogFooter,EVENTS:{COPY_LINK_CLICKED:"copyLinkClicked",EDIT_ARTICLE_CLICKED:"editArticleClicked"},events:{"click .js-sd-kb-copy-link":"_copyLinkClicked","click .js-sd-kb-edit-article":"_editArticleClicked"},initialize:function(e){this.article=e},render:function(){this.$el.html(this.template({editUrl:Object(i.b)(this.article.appLinkUrl,this.article.id)}));var e=Object(r.a)(this.article.inPageUrl);this.copyTextInput=e.find("input"),this.$(".share-url-copy-text-container").prepend(e)},_copyLinkClicked:function(){this.copyTextInput.focus(),this.copyTextInput.select();try{document.execCommand("copy")&&this._showSuccessIcon()}catch(e){}o.a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.article.dialog.copy.clicked"),this.trigger(this.COPY_LINK_CLICKED)},_editArticleClicked:function(){o.a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.article.dialog.edit.clicked"),this.trigger(this.EDIT_ARTICLE_CLICKED)},_showSuccessIcon:function(){this.$(".kb-primary-nav-dialog-footer-success-icon").removeClass("fadeOut"),this._hideSuccessIcon()},_hideSuccessIcon:a.default.debounce(function(){this.$(".kb-primary-nav-dialog-footer-success-icon").addClass("fadeOut")},2500)})},363:function(e,t,n){"use strict";var s=n(2);t.a=s.a.Model.extend({namedAttributes:{key:String,name:String,canAdministerJira:Boolean,displayName:String,avatarUrls:Object},idAttribute:"key",toJSON:function(){var e=s.a.Model.prototype.toJSON.call(this);return e.cid=this.cid,e}})},364:function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return k});var s=n(3),a=n(0),i=n(49),r=n.n(i),o=n(7),l=n.n(o),c=n(43),d=n(125),u=n(5),p=(n(685),l()()+"/rest/servicedesk/project-ui/1/welcome-guide"),m=!1,g=!1,v=function(e,t){m=e,g=t},k=function(e){e.on("click",".js-welcome-guide + .sd-sidebar-dismiss",function(e){e.preventDefault(),function(){m?u.a.trackEvent("servicedesk.page.view.renaissance.onboarding.dismiss"):g?u.a.trackEvent("servicedesk.page.view.renaissance.onboarding.agent.dismiss"):u.a.trackEvent("servicedesk.page.view.renaissance.onboarding.unknowntype.dismiss");var e=Object(a.default)(".aui-nav-item.js-welcome-guide").parent(),t=Object(a.default)(r()({type:"info",close:"auto",title:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u0442\u0435\u043f\u0435\u0440\u044c \u0441\u043a\u0440\u044b\u0442\u043e",body:ServiceDesk.Templates.Agent.Welcome.Guide.Dismiss.flag()})),n=t.find(".js-bring-back-welcome");a.default.post(p+"/dismiss").done(function(){e.addClass("hidden"),Object(a.default)("#content .sd-welcome-guide-section").length&&Object(c.f)(Object(d.queuesFragment)()),n.click(function(){m?u.a.trackEvent("servicedesk.page.view.renaissance.onboarding.restore"):g?u.a.trackEvent("servicedesk.page.view.renaissance.onboarding.agent.restore"):u.a.trackEvent("servicedesk.page.view.renaissance.onboarding.unknowntype.restore"),a.default.post(p+"/restore"),e.removeClass("hidden"),t[0].close()})})}()})}},366:function(e,t,n){"use strict";var s=n(3),a=n(39),i=n.n(a),r=n(81),o=n.n(r),l=n(0),c=n(1),d=n(66),u=n(89),p=n.n(u),m=n(7),g=n.n(m),v=n(8),k=(n(687),n(686),ServiceDesk.InternalApi.Feature.SpaceSingleSelect),f=".js-kb-space-select-footer",h="text/html",b={itemAttrDisplayed:"label",width:250,revertOnInvalid:!0};function S(e,t){var n=new o.a({weight:1,label:"\u041f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e"});c.default.each(t.result,function(e){var t=function(e){return new i.a({value:e.key,label:e.name,title:e.name,meta:{spaceUrl:c.default.findWhere(e.link,{type:h}).href}})}(e);n.addItem(t)});var a=c.default.first(t.contentNameMatches);return a&&c.default.each(a,function(t){if(t.spaceKey){var s=function(e,t){var n=e.appLinkUrl.split("/").filter(function(e){return!!e}),s=n[n.length-1],a=t.href.split("/").filter(function(e){return!!e}),r=s===a[0]?e.appLinkUrl+"/"+a.slice(1).join("/"):""+e.appLinkUrl+t.href;return new i.a({value:t.spaceKey,label:t.spaceName,title:t.spaceName,meta:{spaceUrl:r}})}(e,t);n.addItem(s)}}),[n]}function T(e,t){var n=c.default.extend(b,{element:t,ajaxOptions:{url:e.url.bind(e),error:function(t){return function(e,t){Object(l.default)(e).trigger("xhr-error",c.default.extend(t,Object(v.d)(t)))}(e,t)},formatResponse:function(t){return S(e,t)},query:!0}});return new p.a(n)}function j(e){e.showSuggestions=c.default.wrap(e.showSuggestions,function(t){t.call(e),function(e){var t=e.dropdownController.$content.find(".aui-list-scroll");0===t.find(f).size()&&(t.append(k.selectFooter()),t.find(f).click(function(e){return e.stopPropagation()}))}(e)})}t.a=Object(d.a)("sd-kb-space-single-select",{attributes:{"app-link-id":function(e,t){e.appLinkId=t.newValue,e.clearSelection()},"app-link-url":function(e,t){e.appLinkUrl=t.newValue},"project-key":function(e,t){e.projectKey=t.newValue}},created:function(e){var t=Object(l.default)(e),n=t.attr("field-name"),s=t.attr("placeholder"),a=Object(l.default)(k.select({name:n,placeholder:s}));t.html(a),e.singleSelect=T(e,a),e.$select=a,j(e.singleSelect)},prototype:{url:function(){return g()()+"/rest/servicedesk/1/servicedesk/"+encodeURIComponent(this.projectKey)+"/kb/"+this.appLinkId+"/space"},getSelectedSpace:function(){if(this.singleSelect){var e=this.singleSelect.getSelectedDescriptor();if(e&&""!==e.value())return{key:(t=e).value(),name:t.label(),url:t.meta().spaceUrl}}var t;return null},clearSelection:function(){this.singleSelect&&this.singleSelect.clearSelection()},disable:function(){return this.singleSelect&&this.singleSelect.disable()},enable:function(){return this.singleSelect&&this.singleSelect.enable()}}})},377:function(e,t,n){},378:function(e,t,n){},379:function(e,t,n){},380:function(e,t,n){"use strict";"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Internal&&(ServiceDesk.Templates.Internal={}),void 0===ServiceDesk.Templates.Internal.Project&&(ServiceDesk.Templates.Internal.Project={}),void 0===ServiceDesk.Templates.Internal.Project.Sidebar&&(ServiceDesk.Templates.Internal.Project.Sidebar={}),void 0===ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss&&(ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss={}),void 0===ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss.Button&&(ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss.Button={}),ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss.Button.dismissButton=function(e,t){var s="",a=n(18).isFeatureEnabled("sd.adgs.m1")?"sd-sidebar-dismiss sd-adgs-feature-flag-m1":"sd-sidebar-dismiss";return s+='<a href="#" class="'+soy.$$escapeHtml(a)+'"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog" data-unicode="UTF+f119"></span></a>'},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss.Button.dismissButton.soyTemplateName="ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss.Button.dismissButton");ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss.Button},429:function(e,t,n){"use strict";var s=n(2),a=n(5),i=n(157);n(220);t.a=s.a.View.extend({template:ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible.inlineDialog,events:{"click .js-sd-kb-confluence-try-button":"_onTryConfluenceClicked"},render:function(){this.$el.html(this.template());var e=new i.a;e.setElement(this.$(".cv-smart-portal-search-input-container")),e.render(),e.disable()},focus:function(){this.$(".js-sd-kb-confluence-try-button").focus()},disable:function(){this.undelegateEvents(),this.stopListening()},_onTryConfluenceClicked:function(){a.a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.dismissible.inline.dialog.try.confluence.clicked")}})},430:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var s=n(0),a=n(1),i=n(55),r=n.n(i),o=n(429),l=n(5),c=a.default.once(function(e){if(e.length){var t=void 0;return Object(s.default)(document).on("click","#inline-dialog-KBDismissibleDialog",function(e){e.stopPropagation()}),new r.a(e,"KBDismissibleDialog",function(e,n,s){t&&t.disable(),(t=new o.a).setElement(e),s(),t.render(),l.a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.dismissible.inline.dialog.shown"),setTimeout(function(){t.focus()},0)},{hideDelay:null,gravity:"w",preHideCallback:function(){return!0},width:320})}})},431:function(e,t,n){"use strict";var s=n(3),a=n(9),i=n.n(a),r=n(1),o=n(2),l=n(243),c=n(8),d=n(7),u=n.n(d),p=u()()+"/rest/servicedesk/1/servicedesk",m={errors:[{errorMessage:"\u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a Confluence, \u0442.\u043a. \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430. \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 Confluence \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0421\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443."}]};function g(e,t,n){var s=t.getAppLinkId();return function(e){return p+"/"+encodeURIComponent(e)+"/kb"}(n)+"/"+encodeURIComponent(s)+"/space/"+encodeURIComponent(e)}t.a=o.a.Model.extend({namedAttributes:{projectKey:String,appLink:l.a},fetchAppLink:function(){var e,t=this;return this.fetchAppLinkPromise=i()(),Object(c.c)((e=this.getProjectKey(),p+"/"+encodeURIComponent(e)+"/applinks/confluence")).fail(this.fetchAppLinkPromise.reject).done(function(e){var n=function(e){var t=r.default.findWhere(e.appLinks,{isPrimary:!0});return t?new l.a(r.default.pick(t,"appLinkId","name","displayUrl")):null}(e);n||t.fetchAppLinkPromise.reject(m),t.setAppLink(n),t.fetchAppLinkPromise.resolve(n)}),this.fetchAppLinkPromise.promise()},saveKbLink:function(e){var t=this,n=this.getAppLink(),s=function(e,t){return{spaceName:t.name,spaceUrl:t.url,appName:e.getName(),appUrl:e.getDisplayUrl()}}(n,e);return Object(c.e)(g(e.key,n,this.getProjectKey()),s).done(function(){return t.trigger("kbLinked",s)})},createSpaceForProject:function(e){var t=u()()+"/rest/servicedesk/project-ui/1/knowledge-base/create-space-for-project/"+e;return Object(c.e)(t)}})},432:function(e,t,n){"use strict";var s=n(1),a=n(2),i=n(366),r=n(7),o=n.n(r),l=n(46),c=n(5),d=(n(729),n(728),".js-sd-link-existing-space-select"),u=".js-linked-completion";function p(e){return s.default.pluck(e.errors,"errorMessage")}t.a=a.a.View.extend({EVENT:{KB_LINKED:"kbLinked"},template:ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing,events:{"selected .js-sd-link-existing-space-select":"_onSpaceSelected","xhr-error .js-sd-link-existing-space-select":"_onSpaceSelectorXhrError"},initialize:function(e){i.a.install(),this.model=e},render:function(){var e=this;this.model.fetchAppLinkPromise.done(function(){return e.$el.html(e.template.selectSpace(e.model.toJSON()))}).fail(function(t){return e._renderAppLinkError(t)}).always(function(){return e.$el.removeClass("loading")})},hideCompletion:function(){this.$(u).hide()},_onSpaceSelected:function(){var e=this;c.a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.link.existing.space.selected"),this._clearNonAppLinkErrorMessages();var t=this._getSpaceSelector(),n=t.getSelectedSpace();n&&(t.disable(),this.model.saveKbLink(n).done(function(){return e._onSuccessfulSave(n)}).fail(function(t){return e._renderNonAppLinkError(t)}).always(function(){return t.enable()}))},_onSuccessfulSave:function(e){l.a.setAvailability(!0),l.a.setSpaceKey(e.key),l.a.setConfluenceUrl(this.model.getAppLink().getDisplayUrl()),this.trigger(this.EVENT.KB_LINKED,{spaceName:e.name,spaceUrl:e.url,editPermissionsUrl:this._getEditPermissionsUrl()})},_onSpaceSelectorXhrError:function(e,t){this._renderNonAppLinkError(t)},_getSpaceSelector:function(){return this.$(d)[0]},_getEditPermissionsUrl:function(){return o()()+"/servicedesk/admin/"+this.model.getProjectKey()+"/confluence-kb"},_renderAppLinkError:function(e){var t=this.template.appLinkError({errors:p(e)});this.$el.html(t)},_renderNonAppLinkError:function(e){this._clearNonAppLinkErrorMessages();var t=this.template.nonAppLinkError({errors:p(e)});this.$el.find(d).after(t)},_clearNonAppLinkErrorMessages:function(){this.$(".error").remove()}})},433:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var s=n(88),a=n.n(s),i=n(0),r=n(1),o=n(55),l=n.n(o),c=n(5),d=n(194),u=n(307),p=n(133),m=(n(220),n(377),!0);function g(e){c.a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.search.result.clicked.notnewtab");var t=e.article,n=new u.a(t),s=r.default.extend({footerView:n,pageId:t.id,confUrl:t.appLinkUrl},t),a=Object(p.b)(s);a.show(),m=!1,a.on("onClose",function(){m=!0})}function v(){c.a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.search.result.clicked.newtab")}function k(){c.a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.create.article.clicked")}function f(){c.a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.go.to.confluence.clicked")}var h=r.default.once(function(e){if(e.length){Object(i.default)(document).on("click","#inline-dialog-KBDialog",function(e){e.stopPropagation()});var t=new d.a,n=new l.a(e,"KBDialog",function(e,n,s){e.append(t.$el),t.render(),s(),c.a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.inline.dialog.shown"),setTimeout(function(){t.focus()},0)},{hideDelay:null,gravity:"w",preHideCallback:function(){return m&&!a.a.current},width:320});return t.listenTo(t,d.a.EVENT.RESULTS_RENDERED,function(){n.refresh()}),t.listenTo(t,d.a.EVENT.QUERY_CHANGE,function(){n.refresh()}),t.listenTo(t,"editPermissionsLinkClicked",function(){return n.hide()}),function(e){e.on("clickedNotNewTab","sd-kb-dialog-link",g),e.on("clickedNewTab","sd-kb-dialog-link",v),e.on("click",".js-create-article-link",k),e.on("click",".js-go-to-confluence-link",f)}(n),n}})},434:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var s=n(0),a=function(e,t,n){Object(s.default)(document).on("hideLayer",function(s,a,i){a===t&&i&&i.id&&i.id===e&&n&&n()})}},435:function(e,t,n){"use strict";var s=n(1),a=n(56),i=n(190),r=n.n(i);t.a=r.a.extend({formatSuggestions:function(e,t){return this.savedDescriptors=e,this._super(e,t)},validateMirroring:function(e){return!!(this.options.freeEmailInput&&this.savedDescriptors&&e&&e.length>0&&Object(a.isValidEmailAddress)(e))&&!s.default.some(this.savedDescriptors,function(t){var n=t.meta();return n&&e===n.email})}})},436:function(e,t,n){"use strict";var s=n(3),a=n(56),i=n(0),r=n(1),o=n(112),l=n.n(o),c=n(8),d=n(5),u=n(7),p=n.n(u),m=n(14),g=n.n(m);n(204),n(221);t.a=l.a.extend({init:function(e){this._setOptions(e),this.$lozenge=this._render("item"),this.$removeButton=this.$lozenge.find(".js-delete-an-invited-agent"),this._assignEvents("instance",this),this._assignEvents("lozenge",this.$lozenge),this._assignEvents("removeButton",this.$removeButton),this.$lozenge.prependTo(this.options.container)},_template:ServiceDesk.Templates.Internal.Project.Invite.Team,_getDefaultOptions:function(){return{descriptor:null,container:null}},_events:{instance:{remove:function(){this.$lozenge.remove()}},removeButton:{click:function(e){if(e.stopPropagation(),this.trigger("remove"),this.errorDialogId){var t=document.getElementById(this.errorDialogId);null!==t&&t.remove()}}}},_renders:{item:function(){var e,t,n=this,o=this.options.descriptor,l=void 0,u=void 0;if(!0!==o.noExactMatch())l={userkey:o.meta().userkey,username:o.value(),icon:o.icon(),displayName:Object(a.escapeMarkup)(o.label()),isExistedAgent:o.meta().isAgent},o.meta().isAgent?d.a.trackEvent("project.sidebar.invite.team.agent.allocated"):d.a.trackEvent("project.sidebar.invite.team.agent.promoted"),u=Object(i.default)(this._template.recipientUsername(l));else{l={email:o.value()};var m=Object(i.default)(this._template.recipientEmail(l)),v=m.find("span.email"),k=m.find(".js-sd-spinner");Object(c.c)((e=l.email,t=new g.a(p()()+"/rest/servicedesk/1/servicedesk/sd-user-search"),t.addQuery("query",e),t.addQuery("includeInactive",!0),t.addQuery("canMatchEmail",!0),t.href())).done(function(e){var t,a,o,c,u,f,h,b=void 0,S=(t=e,a=l.email,(o=r.default.findWhere(t,{username:a}))||(o=r.default.findWhere(t,{emailAddress:a,externallyDeleted:!1})),o);if(S){v.addClass("email-error"),n.errorDialogId="sd-invite-team-error-user-exists-"+(new Date).getTime(),l.errorDialogId=n.errorDialogId;var T=void 0,j=S.username;if(S.externallyDeleted)T=s.format("\u042d\u0442\u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0431\u044b\u043b \u0443\u0434\u0430\u043b\u0435\u043d. \u0412\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u0443\u0434\u0435\u0442 {0}\u0432\u043e\u0441\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0435\u0433\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442,{1} \u0447\u0442\u043e\u0431\u044b \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u0435\u0433\u043e \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0435\u043a\u0442\u0443.",'<a href="'+p()()+'/secure/admin/user/UserBrowser.jspa">',"</a>");else if(S.active&&S.agent)T="\u042d\u0442\u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0436\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u0433\u0435\u043d\u0442\u043e\u043c \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430.";else{var D=(c="secure/admin/user/ViewUser.jspa",u="name",f=j,(h=new g.a(p()()+"/"+c)).addQuery(u,f),h.href());T=S.active?s.format("This user does not have Application access to Jira Service Desk. You\'\'ll need to {0}give them access{1} to Jira Service Desk before you can invite them to the project.",'<a href="'+D+'">',"</a>"):s.format("\u042d\u0442\u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d. \u0412\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u0443\u0434\u0435\u0442 {0}\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442,{1} \u0447\u0442\u043e\u0431\u044b \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u0435\u0433\u043e \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0435\u043a\u0442\u0443.",'<a href="'+D+'">',"</a>")}l.content=T,b=n._template.usedEmailIndicator,d.a.trackEvent("project.sidebar.invite.team.agent.email.used")}else b=n._template.freeEmailIndicator,d.a.trackEvent("project.sidebar.invite.team.agent.email.new");v.removeClass("email-checking"),k.replaceWith(Object(i.default)(b(l))),m.trigger("itemStatusUpdated")}),u=m}return u}}})},437:function(e,t){e.exports=require("jira/ajs/group")},438:function(e,t,n){"use strict";var s=n(3),a=n(437),i=n.n(a),r=n(0),o=n(1),l=n(111),c=n.n(l),d=n(436),u=n(435),p=n(39),m=n.n(p);t.a=c.a.extend({init:function(e){var t=this,n=e.restPath;r.default.extend(e,{userEnteredOptionsMsg:"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b",showDropdownButton:!1,removeDuplicates:!0,suggestionsHandler:u.a,removeOnUnSelect:!0,ajaxOptions:{url:n,minQueryLength:1,query:!0,keyInputPeriod:1e3,formatResponse:function(e){var t=[];return o.default.each(e,function(e){t.push(new m.a({value:e.username,label:e.displayName+" - "+e.emailAddress+" ("+e.username+")",icon:e.avatar,meta:{userkey:e.key,isAgent:e.agent,email:e.emailAddress}}))}),t}},itemBuilder:function(e){return new d.a({descriptor:e,container:t.$selectedItemsContainer})},itemGroup:new i.a}),this._super(e),this.dropdownController.$layer.on("click",function(){return!1})},updateItemsIndent:r.default.noop,_renders:{selectedItemsWrapper:function(){return Object(r.default)('<div class="recipients"></div>')},selectedItemsContainer:function(){return Object(r.default)("<ol />")},description:function(e){return Object(r.default)("<div />").addClass("description").text(e)}}})},439:function(e,t,n){"use strict";var s=n(3),a=n(2),i=n(8),r=n(0),o=n(1),l=n(10),c=n.n(l),d=n(27),u=n(438),p=n(5),m=n(7),g=n.n(m),v=n(12),k=n.n(v),f=n(138),h=n(434),b=n(15),S=n.n(b),T=n(49),j=n.n(T),D=(n(221),n(378),ServiceDesk.Templates.Internal.Project.Invite.Team);t.a=a.a.View.extend({templates:{contents:D.contents,loading:D.loading,error:D.error},mixins:[d.a],namedEvents:["dialogShown"],_canSubmit:!1,events:{"click .js-invite-team-main-button":"_inviteTeam","click .js-invite-team-cancel-button":"_onCancelClicked","submit .js-invite-team-dialog-form":"_inviteTeam"},_inviteTeam:function(e){var t=this;if(e.preventDefault(),this._canSubmit){this._disableInviteButton(),this._disableCancelButton(),this._disableInputTextArea(),this._hideAgentRemoveButtons(),p.a.trackEvent("project.sidebar.invite.team.dialog.submit"),this.showSpinner(this.$(".js-invite-team-main-button"));var n={agentsToAdd:this._getNewAgentsList(),agentsToAllocate:this._getExistedAgentsList(),agentsToPromote:this._getExistedJiraUsersNotAgentsList()};this.model.addMultiAgents(n).done(function(){t.showSuccess().done(function(){t.trigger("submitSuccess"),S.a.trigger("invite-team-success");var e=t._getNewAgentsList().length+t._getExistedAgentsList().length+t._getExistedJiraUsersNotAgentsList().length;t._showSuccessMessage(e),t._removePopupErrors(),c.a.trace("sd.invite.team.complete")},t)}).fail(function(e){t._renderAjaxError(e),t.hideSpinner(t.$(".js-invite-team-main-button")),t._enableInviteButton(),t._enableCancelButton(),t._enableInputTextArea(),t._showAgentRemoveButtons()})}},_handleShowLayer:function(){this.model.getTeamRoleMisconfigured()||this._multiAgentPicker.$field.focus()},_handleHideLayer:function(){Object(h.a)("invite-team-dialog","inlineDialog",function(){o.default.each(Object(r.default)("aui-inline-dialog.sd-invite-team-error-user-exists"),function(e){e.remove()})})},_showSuccessMessage:function(e){var t=g()()+"/plugins/servlet/project-config/"+k.a.get("projectKey")+"/roles",n="<div>"+s.format("{0} {1} {1,choice,1#\u0430\u0433\u0435\u043d\u0442|1\u003c\u0430\u0433\u0435\u043d\u0442\u043e\u0432} {2}","<strong>",e,"</strong>")+"\u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u044b \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0433\u0435\u043d\u0442\u043e\u0432 \u0432 \u0432\u0430\u0448 \u043f\u0440\u043e\u0435\u043a\u0442"+"</div><p><a class='sd-invite-team-success-link' href='"+t+"'>"+"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0438 \u0440\u043e\u043b\u0438 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430"+"</a></p>";j()({type:"success",body:n,close:"auto"}),Object(r.default)("a.sd-invite-team-success-link").off("click").on("click",function(){p.a.trackEvent("project.sidebar.invite.team.dialog.submit.success.roles.link.clicked")})},_onCancelClicked:function(){this.trigger("cancelClicked"),p.a.trackEvent("project.sidebar.invite.team.dialog.cancel")},_disableInviteButton:function(){return this._disableElement(this.$(".js-invite-team-main-button"))},_disableCancelButton:function(){return this._disableElement(this.$(".js-invite-team-cancel-button"))},_disableInputTextArea:function(){return this._disableElement(this.$("#js-invite-team-textarea"))},_disableElement:function(e){return e.attr({disabled:"disabled","aria-disabled":"true"})},_enableInviteButton:function(){return this._enableElement(this.$(".js-invite-team-main-button"))},_enableCancelButton:function(){return this._enableElement(this.$(".js-invite-team-cancel-button"))},_enableInputTextArea:function(){return this._enableElement(this.$("#js-invite-team-textarea"))},_enableElement:function(e){return e.removeAttr("disabled").attr("aria-disabled","false")},_hideAgentRemoveButtons:function(){return Object(r.default)(".sd-delete-an-invited-agent").addClass("hidden")},_showAgentRemoveButtons:function(){return Object(r.default)(".sd-delete-an-invited-agent").removeClass("hidden")},_initMultiAgentPicker:function(){var e=this;if(!this._pickerIsInitializedAlready()){var t=this.model.getAgentManagementError(),n=this.model.getCanManageLicenses()&&!t.getRunOutOfAgentLicenses()&&!t.getReadOnlyJIRA()&&t.getOutgoingMailConfigured()&&!t.getNoDefaultGroup();if(!this.model.getTeamRoleMisconfigured()){var s=this.$(".js-invite-team-picker");this._multiAgentPicker=new u.a({restPath:g()()+"/rest/servicedesk/1/servicedesk/sd-user-search/filtered/"+this.model.getProjectKey(),freeEmailInput:n,element:s,errorMessage:""}),this._multiAgentPicker.$selectedItemsContainer.on("itemStatusUpdated",function(){return e._updateStateOfInviteTeamDialog(),c.a.trace("sd.invite.team.dialog.state.updated"),!1}),s.on("selected",function(){e._updateStateOfInviteTeamDialog()}),s.on("unselect",function(){e._updateStateOfInviteTeamDialog(),p.a.trackEvent("project.sidebar.invite.team.agent.removed")})}}},_updateStateOfInviteTeamDialog:function(){var e=this;this.model.fetch().done(function(){e._updatePeopleImageVisibility(),e._showNumberOfAgentLicensesToConsume(),e._showNumberOfPeopleToInvite(),e._showOutOfAgentLicensesError(),e._renderErrorBox(),c.a.trace("sd.invite.team.dialog.license.information.updated")})},_updatePeopleImageVisibility:function(){this.$("li[data-item-name]").length?this._hidePeopleImage():this._showPeopleImage()},_pickerIsInitializedAlready:function(){return this.$("#js-invite-team-textarea").length>0},_hidePeopleImage:function(){this.$(".js-image-people-wrapper").hide()},_showPeopleImage:function(){this.$(".js-image-people-wrapper").show()},_getNewAgentsList:function(){return o.default.map(this.$("li[data-email]:has(.js-is-new-agent)"),function(e){return Object(r.default)(e).data("email")})},_getExistedAgentsList:function(){return o.default.map(this.$("li[data-username].js-existed-agent"),function(e){return Object(r.default)(e).data("userkey")})},_getExistedJiraUsersNotAgentsList:function(){return o.default.map(this.$("li[data-username]:has(.js-is-new-agent)"),function(e){return Object(r.default)(e).data("userkey")})},_showNumberOfAgentLicensesToConsume:function(){var e=this._getNewAgentsList().length+this._getExistedJiraUsersNotAgentsList().length,t=e+this._getExistedAgentsList().length,n=this.$(".js-number-of-new-agents"),a=this.model.getAgentCapacity(),i=e+this.model.getAgentCount(),r=this.model.getEvaluation(),o="";t&&this.model.getCanManageLicenses()?e?(o=s.format("\u0411\u0443\u0434\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0439 \u0430\u0433\u0435\u043d\u0442\u0430: {0}",e)+" ("+this._getCountText(!0,r,i,a,this.model.getShowTotalAgentlicenseCount())+")",n.text(o).show()):(o=this._getCountText(!1,r,i,a,this.model.getShowTotalAgentlicenseCount()),n.text(o).show()):n.text("").hide()},_getCountText:function(e,t,n,a,i){return t?e?s.format("{0} \u0442\u0435\u043f\u0435\u0440\u044c \u0432 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438\u00a0\u2014 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u0440\u043e\u0431\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f",n):s.format("\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f {0} {0,choice,1#\u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044f|1\u003c\u043b\u0438\u0446\u0435\u043d\u0437.} \u0430\u0433\u0435\u043d\u0442\u0430\u00a0\u2014 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u0440\u043e\u0431\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f",n):i?e?s.format("\u0421\u0435\u0439\u0447\u0430\u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f: {0} \u0438\u0437 {1}",n,a):s.format("\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0439 \u0430\u0433\u0435\u043d\u0442\u0430: {0} \u0438\u0437 {1}",n,a):e?s.format("{0} \u0442\u0435\u043f\u0435\u0440\u044c \u0432 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438",n):s.format("\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0439 \u0430\u0433\u0435\u043d\u0442\u0430: {0}",n)},_isOutOfAgentLicense:function(e){return e+this.model.getAgentCount()>this.model.getAgentCapacity()},_showOutOfAgentLicensesError:function(){var e=this._getNewAgentsList().length+this._getExistedJiraUsersNotAgentsList().length;this._isOutOfAgentLicense(e)?this._applyPopupErrors(["\u0414\u043e\u0441\u0442\u0438\u0433\u043d\u0443\u0442 \u043b\u0438\u043c\u0438\u0442 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0439 \u0430\u0433\u0435\u043d\u0442\u0430. \u0423\u0434\u0430\u043b\u0438\u0442\u0435 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0430\u0433\u0435\u043d\u0442\u043e\u0432."]):this._removePopupErrors()},_showNumberOfPeopleToInvite:function(){var e=this._getNewAgentsList().length+this._getExistedJiraUsersNotAgentsList().length,t=e+this._getExistedAgentsList().length;t&&!this._isOutOfAgentLicense(e)?(this._canSubmit=!0,this._enableInviteButton().text(s.format("\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c {0} {0,choice,1#\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f|1\u003c\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439}",t))):(this._canSubmit=!1,this._disableInviteButton().text("\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c"))},_applyPopupErrors:function(e){var t=this.model.getCanManageLicenses(),n="";o.default.map(e,function(e){n+="<p>"+e+"</p>"}),t||(n+="<p>"+"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c."+"</p>"),this._removePopupErrors(),this.$(".js-agent-management-error").addClass("error").html(n)},_removePopupErrors:function(){this.$(".js-agent-management-error").empty().removeClass("error")},_renderAjaxError:function(e){if(e){if(e.errors){var t=o.default.map(e.errors,function(e){return e.errorMessage});this._applyPopupErrors(t)}e["status-code"]&&e["status-code"]>400&&e.message&&this._applyPopupErrors([e.message])}},_renderErrorBox:function(){var e=null;if(this.model.getCanManageLicenses()){var t=this.model.getAgentManagementError();if(t.getRunOutOfAgentLicenses()){var n=g()()+"/secure/admin/ApplicationAccess.jspa";e={type:"hint",html:"<p>"+s.format("\u0414\u043e\u0441\u0442\u0438\u0433\u043d\u0443\u0442 \u043b\u0438\u043c\u0438\u0442 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0439 \u0430\u0433\u0435\u043d\u0442\u0430. {0}\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438{1} \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u0430\u0433\u0435\u043d\u0442\u043e\u0432.",'<a href="'+n+'" target="_blank">',"</a>")+"</p>"}}else if(t.getReadOnlyJIRA())e={type:"hint",html:"<p>"+"The user directory is currently read only. To create new agents you\'ll need to add them through whichever system is managing Jira user accounts."+"</p>"};else if(t.getOutgoingMailConfigured()){if(t.getNoDefaultGroup()){e={type:"error",html:"<p>"+s.format("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u0438\u0441\u0432\u043e\u0438\u0442\u044c \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 \u0430\u0433\u0435\u043d\u0442\u0430 \u0433\u0440\u0443\u043f\u043f\u0435 \u0430\u0433\u0435\u043d\u0442\u043e\u0432 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 {0}\u0433\u0440\u0443\u043f\u043f\u0443 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e{1} \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u0430\u0433\u0435\u043d\u0442\u043e\u0432.",'<a href="'+g()()+'/secure/admin/ApplicationAccess.jspa" target="_blank">',"</a>")+"</p>"}}}else{e={type:"hint",html:"<p>"+s.format("\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439 \u043d\u043e\u0432\u044b\u043c \u0443\u0447\u0435\u0442\u043d\u044b\u043c \u0437\u0430\u043f\u0438\u0441\u044f\u043c. \u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 {0}\u0441\u0435\u0440\u0432\u0435\u0440 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439{1} \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u0430\u0433\u0435\u043d\u0442\u043e\u0432.",'<a href="'+g()()+'/secure/admin/OutgoingMailServers.jspa" target="_blank">',"</a>")+"</p>"}}}if(this.model.getTeamRoleMisconfigured()){var a="\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u0443\u0441\u0442\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443";e={type:"error",html:"<p>"+"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0438\u0439 \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0437\u0430\u043f\u0440\u0435\u0449\u0430\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u0433\u0435\u043d\u0442\u043e\u0432."+"</p><p><button class='aui-button aui-button-link js-invite-team-repair'>"+a+"</button></p>"}}e&&(this.$(".js-agent-management-error").addClass(e.type).empty().append(e.html),"hint"===e.type?this.$(".sd-description-text").addClass("sd-hint-appeared"):this.$(".sd-description-text").removeClass("sd-hint-appeared"),this.model.getTeamRoleMisconfigured()&&this._initFixingTeamRoleMisconfiguredDialog())},_initFixingTeamRoleMisconfiguredDialog:function(){var e=a.a.Model.extend({namedAttributes:{severity:Object,summary:String,templateName:String,templateParams:Object}}),t=new(a.a.Collection.extend({url:function(){return g()()+"/rest/servicedesk/1/servicedesk/"+k.a.get("projectKey")+"/precondition"},model:e,fetch:function(){var e=this;return Object(i.c)(this.url()).done(function(t){e.reset(t.alerts)})}}));t.fetch().done(function(){var e=Object(r.default)(".js-invite-team-repair");t.isEmpty()||e.on("click",function(e){e.preventDefault(),new f.a({collection:t}).show()})})},_renderPlaceholderText:function(){var e="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0430\u0433\u0435\u043d\u0442\u0430",t=this.model.getCanManageLicenses(),n=this.model.getAgentManagementError().canAddNewAgent();t&&n&&(e="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"),this.$("#js-invite-team-textarea").attr("placeholder",e)},renderLoading:function(){this.$el.html(this.templates.loading())},renderError:function(){this.$el.html(this.templates.error())},render:function(){return this.$el.html(this.templates.contents({showInputForm:!this.model.getTeamRoleMisconfigured(),canManageLicenses:this.model.getCanManageLicenses()})),this._initMultiAgentPicker(),this._renderErrorBox(),this._renderPlaceholderText(),this._handleShowLayer(),this._handleHideLayer(),this._enableCancelButton(),this._enableInputTextArea(),this}})},440:function(e,t,n){"use strict";var s=n(2);t.a=s.a.Model.extend({namedAttributes:{runOutOfAgentLicenses:Boolean,readOnlyJIRA:Boolean,outgoingMailConfigured:Boolean,serviceDeskPurchaseLink:String,licenseUpgradeLink:String,contactLink:String,contactEmail:String,umTroubleshootingLink:String,noDefaultGroup:Boolean},canAddNewAgent:function(){return!this.getRunOutOfAgentLicenses()&&!this.getReadOnlyJIRA()&&this.getOutgoingMailConfigured()&&!this.getNoDefaultGroup()}})},441:function(e,t,n){"use strict";var s=n(2),a=n(222);t.a=s.a.Model.extend({namedAttributes:{query:String,totalUnallocatedAgents:Number,totalAllocatedAgents:Number,unallocatedAgents:a.a,allocatedAgents:a.a}})},442:function(e,t,n){"use strict";var s=n(9),a=n.n(s),i=n(2),r=n(8),o=n(441),l=n(440),c=n(7),d=n.n(c);t.a=i.a.Model.extend({idAttribute:"projectKey",namedEvents:["userIsInvited"],namedAttributes:{projectId:Number,projectName:String,projectKey:String,agentCapacity:Number,agentCount:Number,agentResults:o.a,jiraUserCount:Number,showTotalAgentlicenseCount:Boolean,evaluation:Boolean,canManageLicenses:Boolean,teamRoleMisconfigured:Boolean,adminRoleMisconfigured:Boolean,agentManagementError:l.a},getUrl:function(){return d()()+"/rest/servicedesk/1/servicedesk/"+this.getProjectKey()+"/inviteteam"},addMultiAgents:function(e){var t=this,n=a()();return Object(r.g)(this.getUrl(),e).done(function(e){t.setAgentCount(e.agentCount),t.setJiraUserCount(e.jiraUserCount),t.triggerUserIsInvited(),n.resolve(e)}).fail(function(e){n.reject(Object(r.d)(e))}),n},abort:function(){this._pageReq&&this._pageReq.abort()},fetch:function(){var e=this;return Object(r.c)(this.getUrl()).done(function(t){return e.set(t)})}})},443:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var s=n(88),a=n.n(s),i=n(10),r=n.n(i),o=n(442),l=n(439),c=n(55),d=n.n(c),u=n(5),p=n(12),m=n.n(p),g=(n(221),n(378),function(e){if(e.length){var t=new o.a({projectKey:m.a.get("projectKey")}),n=new l.a({model:t}),s=new d.a(e,"invite-team-dialog",function(e,s,a){return n.setElement(e).renderLoading(),e.click(function(e){e.stopPropagation()}),u.a.trackEvent("project.sidebar.invite.team.dialog.open"),a(),t.fetch().done(function(){n.model.set(t.toJSON()),n.render()}).fail(function(){n.renderError()}),!1},{persistent:!0,width:300,gravity:"w",preHideCallback:function(){return!a.a.current},initCallback:function(){n.triggerDialogShown()},hideCallback:function(){r.a.trace("sd.invite.team.dialog.closed")}});n.on("cancelClicked submitSuccess",s.hide,s)}})},444:function(e,t,n){"use strict";var s=n(2),a=n(12),i=n.n(a),r=n(7),o=n.n(r),l=n(8);n(224),n(223);t.a=s.a.Model.extend({namedAttributes:{portalUrl:String,emailSettingsUrl:String,emailEnabled:Boolean,emailAddress:String,canManageAddress:Boolean},getUrl:function(){return o()()+"/rest/servicedesk/project-ui/1/customerchannels/"+i.a.get("projectKey")},fetch:function(){var e=this;return Object(l.c)(this.getUrl()).done(function(t){return e.set(t)})}})},445:function(e,t,n){"use strict";var s=n(2),a=n(160),i=n(134),r=n(5);n(224),n(223);t.a=s.a.View.extend({templates:{contents:ServiceDesk.Templates.Internal.Project.Customer.Channels.contents,loading:ServiceDesk.Templates.Internal.Project.Customer.Channels.loading},events:{"copy .js-portal-url-container .js-quick-copy-text":"handlePortalCopy","copy .js-email-address-container .js-quick-copy-text":"handleEmailCopy","click .js-portal-button-preview":"handlePortalLinkClick"},handlePortalCopy:function(){r.a.trackEvent("project.sidebar.customer.channels.dialog.portalurl.copied")},handleEmailCopy:function(){r.a.trackEvent("project.sidebar.customer.channels.dialog.emailaddress.copied")},handlePortalLinkClick:function(e){Object(a.a)(e)},renderLoading:function(){this.$el.html(this.templates.loading())},render:function(){r.a.trackEvent("project.sidebar.customer.channels.dialog.shown"),this.$el.html(this.templates.contents(this.model.toJSON())),this.$(".js-portal-url-container").append(Object(i.a)(this.model.getPortalUrl())),this.$(".js-email-address-container").append(Object(i.a)(this.model.getEmailAddress()))},focusCopyTextfield:function(){this.$(".js-portal-url-container .js-quick-copy-text").click()},focusEmailField:function(){this.$(".js-email-address-container .js-quick-copy-text").click()}})},446:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var s=n(0),a=n(55),i=n.n(a),r=n(445),o=n(444),l=(n(224),n(223),function(e,t){if(e.length){var n=e.prop("href");e.attr("href","#");var a=new o.a({portalUrl:n}),l=new r.a({model:a});new i.a(e,"customer-channels-dialog",function(e,n,s){return l.setElement(e).renderLoading(),e.click(function(e){e.stopPropagation()}),s(),a.fetch().done(function(){l.render(),t(e),l.focusCopyTextfield()}).fail(function(){}),!1},{width:300,calculatePositions:function(e,t){var n=Object(s.default)(t.target).closest("a");return{gravity:"w",popupCss:{left:n.offset().left+n.outerWidth()+10,top:n.offset().top},arrowCss:{top:n.height()/2,left:-1}}}})}})},447:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var s=n(3),a=n(1),i=n(0),r=n(2),o=n(12),l=n.n(o),c=n(9),d=n.n(c),u=n(18),p=n.n(u),m=n(82),g=n(101),v=n(160),k=n(446),f=n(443),h=n(433),b=n(430),S=n(169),T=n(74),j=n(5),D=(n(380),n(379),function(e,t,n,s){e.off(t,n,s),e.on(t,n,s)}),y=a.default.once(function(){S.a.install(),Object(h.a)(Object(i.default)(".js-knowledge-base-primary-nav")),Object(b.a)(Object(i.default)(".js-knowledge-base-primary-nav-dismissible")),m.a.getSidebar().done(function(e){e.getAUISidebar().on("collapse-end expand-end",function(){a.default.each(Object(i.default)("sd-sticky-footer"),function(e){return e.render()})})});var e=d()();if(!p.a.isFeatureEnabled("sd.customerportal.customization.preview")||p.a.isFeatureEnabled("sd.customerportal.customization"))e.resolve(function(){});else var t=l.a.getBoolean("is-admin"),n=ServiceDesk.Templates.Internal.Project.Customer.Channels.newLayoutTour({isAdmin:t}),o=g.a.registerHotspotTour({id:"new-layout-chaperone-tour",syncKey:"new-layout-chaperone-tour",steps:[{selector:".js-customer-channels",dismissingSelectors:"this-is-not-working-on-purpose",onShow:function(){var s=!1,a=function(e){e.preventDefault(),o.dismissTour(),s=!0,j.a.trackEvent("servicedesk.project.sidebar.new.layout.tour.dismiss",{isAdmin:t}),Object(i.default)(e.target).closest(".new-layout-tour").remove()},r=function(){j.a.trackEvent("servicedesk.project.sidebar.new.layout.tour.learn.more",{isAdmin:t})},l=function(){j.a.trackEvent("servicedesk.project.sidebar.new.layout.tour.customize",{isAdmin:t})};e.resolve(function(e){s||(j.a.trackEvent("servicedesk.project.sidebar.new.layout.tour.shown",{isAdmin:t}),e.prepend(n),D(e,"click",".new-layout-tour-dismiss-link",a),D(e,"click",".new-layout-tour-learn-more-link",r),D(e,"click",".new-layout-tour-customize-link",l))})}}]},{underscore:a.default,brace:r.a});Object(k.a)(Object(i.default)(".js-customer-channels"),function(t){e.done(function(e){return e(t)})});var c=Object(i.default)(".js-raise-request");c.click(function(e){if(Object(T.a)(e))j.a.trackEvent("project.sidebar.raise.request.clicked.newtab");else if(!c.is(".portal-tour"))return j.a.trackEvent("project.sidebar.raise.request.clicked"),Object(v.a)(e,{dialogTitle:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",showCustomerUrl:!0}),!1}),Object(f.a)(Object(i.default)(".js-invite-team"))})},448:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var s=n(7),a=n.n(s),i=n(3),r=n(0),o=n(49),l=n.n(o),c=n(5),d=(n(731),a()()+"/rest/servicedesk/project-ui/1/knowledge-base"),u=function(e){e.on("click",".js-knowledge-base-primary-nav-dismissible + .sd-sidebar-dismiss",function(e){var t,n,s;e.preventDefault(),t=Object(r.default)(".aui-nav-item.js-knowledge-base-primary-nav-dismissible").parentsUntil("ul.aui-nav"),n=Object(r.default)(l()({type:"info",close:"auto",title:"\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0435\u043f\u0435\u0440\u044c \u0441\u043a\u0440\u044b\u0442\u0430",body:ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible.flag()})),s=n.find(".js-bring-back-knowledge-base-primary-nav"),r.default.post(d+"/dismiss").done(function(){t.addClass("hidden"),c.a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.dismissed"),s.click(function(){c.a.trackEvent("servicedesk.project.sidebar.kb.primary.nav.restored"),r.default.post(d+"/restore"),t.removeClass("hidden"),n[0].close()})})})}},449:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var s=n(1),a=n(364),i=n(448),r=n(82),o=(n(380),n(379),s.default.once(function(){null===localStorage.getItem("jira-sidebar-collapsed")&&localStorage.setItem("jira-sidebar-collapsed","false"),r.a.getSidebar().done(function(e){var t=e.getAUISidebar();e.$(".aui-sidebar-body").on("click",".aui-nav-item:not(.js-no-autocollapse)",function(){!t.isCollapsed()&&t.isViewportNarrow()&&t.collapse()}),e.children.each(function(e){e.children.each(function(e){e&&e.ui&&e.ui.link&&e.ui.link.hasClass("js-no-select")&&e.on("before:select",function(e){e.preventDefault()})})}),e.$(".sd-sidebar-dismissible").after(ServiceDesk.Templates.Internal.Project.Sidebar.Dismiss.Button.dismissButton()),Object(a.a)(e.$el),Object(i.a)(e.$el)})}))},625:function(e,t,n){},626:function(e,t,n){"use strict";n(23),n(21),n(86),n(85);"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Internal&&(ServiceDesk.Templates.Internal={}),void 0===ServiceDesk.Templates.Internal.Knowledge&&(ServiceDesk.Templates.Internal.Knowledge={}),void 0===ServiceDesk.Templates.Internal.Knowledge.Base&&(ServiceDesk.Templates.Internal.Knowledge.Base={}),void 0===ServiceDesk.Templates.Internal.Knowledge.Base.Footer&&(ServiceDesk.Templates.Internal.Knowledge.Base.Footer={}),ServiceDesk.Templates.Internal.Knowledge.Base.Footer.primaryNavDialogFooter=function(e,t){return'<div class="kb-primary-nav-dialog-footer-buttons">'+aui.buttons.button({text:" \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",extraClasses:"sd-kb-edit-article js-sd-kb-edit-article",href:e.editUrl,extraAttributes:{target:"_blank"}})+'<div class="share-url-copy-text-container">'+aui.buttons.button({text:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",extraClasses:"sd-kb-copy-link js-sd-kb-copy-link"})+"</div>"+aui.icons.icon({useIconFont:!0,size:"small",icon:"approve",extraClasses:"kb-primary-nav-dialog-footer-success-icon fadeOut"})+"</div>"},goog.DEBUG&&(ServiceDesk.Templates.Internal.Knowledge.Base.Footer.primaryNavDialogFooter.soyTemplateName="ServiceDesk.Templates.Internal.Knowledge.Base.Footer.primaryNavDialogFooter");ServiceDesk.Templates.Internal.Knowledge.Base.Footer},627:function(e,t,n){},628:function(e,t,n){"use strict";"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Internal&&(ServiceDesk.Templates.Internal={}),void 0===ServiceDesk.Templates.Internal.Project&&(ServiceDesk.Templates.Internal.Project={}),void 0===ServiceDesk.Templates.Internal.Project.Quick&&(ServiceDesk.Templates.Internal.Project.Quick={}),void 0===ServiceDesk.Templates.Internal.Project.Quick.Copy&&(ServiceDesk.Templates.Internal.Project.Quick.Copy={}),void 0===ServiceDesk.Templates.Internal.Project.Quick.Copy.Text&&(ServiceDesk.Templates.Internal.Project.Quick.Copy.Text={}),ServiceDesk.Templates.Internal.Project.Quick.Copy.Text.input=function(e,t){return'<form class="aui quick-copy-dummy-form js-quick-copy-dummy-form"><input type="text" class="text js-quick-copy-text sd-quick-copy-text" readonly="readonly" value="'+soy.$$escapeHtml(e.text)+'"/></form>'},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Quick.Copy.Text.input.soyTemplateName="ServiceDesk.Templates.Internal.Project.Quick.Copy.Text.input");ServiceDesk.Templates.Internal.Project.Quick.Copy.Text},683:function(e,t,n){},684:function(e,t,n){"use strict";"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Agent&&(ServiceDesk.Templates.Agent={}),void 0===ServiceDesk.Templates.Agent.PortalPreview&&(ServiceDesk.Templates.Agent.PortalPreview={}),ServiceDesk.Templates.Agent.PortalPreview.dialogContent=function(e,t){return""+ServiceDesk.Templates.Agent.PortalPreview.dialogHeader(e)+ServiceDesk.Templates.Agent.PortalPreview.dialogBody(e)+'<div class="sd-portal-preview-dialog__spinner-container"><aui-spinner size="medium"  /></div>'},goog.DEBUG&&(ServiceDesk.Templates.Agent.PortalPreview.dialogContent.soyTemplateName="ServiceDesk.Templates.Agent.PortalPreview.dialogContent"),ServiceDesk.Templates.Agent.PortalPreview.dialogHeader=function(e,t){return'<h2 class="dialog-title portal-dialog-header">'+soy.$$escapeHtml(e.title)+'<span class="portal-dialog-header-info"></span><a href="#" class="portal-dialog-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog dialog-close-button" data-unicode="UTF+f119"></span></a></h2>'},goog.DEBUG&&(ServiceDesk.Templates.Agent.PortalPreview.dialogHeader.soyTemplateName="ServiceDesk.Templates.Agent.PortalPreview.dialogHeader"),ServiceDesk.Templates.Agent.PortalPreview.portalUrlInfo=function(e,t){return soy.$$escapeHtml("URL \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432")+': <a class="sd-portal-url" href="'+soy.$$escapeHtml(e.portalUrl)+'" target="_blank" class="open-in-tab">'+soy.$$escapeHtml(e.portalUrl)+"</a>"},goog.DEBUG&&(ServiceDesk.Templates.Agent.PortalPreview.portalUrlInfo.soyTemplateName="ServiceDesk.Templates.Agent.PortalPreview.portalUrlInfo"),ServiceDesk.Templates.Agent.PortalPreview.dialogBody=function(e,t){return'<iframe id="portal-frame" height="'+soy.$$escapeHtml(e.iframeHeight)+'" src="'+soy.$$escapeHtml(e.portalUrl)+'" />'},goog.DEBUG&&(ServiceDesk.Templates.Agent.PortalPreview.dialogBody.soyTemplateName="ServiceDesk.Templates.Agent.PortalPreview.dialogBody");ServiceDesk.Templates.Agent.PortalPreview},685:function(e,t,n){"use strict";"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Agent&&(ServiceDesk.Templates.Agent={}),void 0===ServiceDesk.Templates.Agent.Welcome&&(ServiceDesk.Templates.Agent.Welcome={}),void 0===ServiceDesk.Templates.Agent.Welcome.Guide&&(ServiceDesk.Templates.Agent.Welcome.Guide={}),void 0===ServiceDesk.Templates.Agent.Welcome.Guide.Dismiss&&(ServiceDesk.Templates.Agent.Welcome.Guide.Dismiss={}),ServiceDesk.Templates.Agent.Welcome.Guide.Dismiss.flag=function(e,t){return'<button class="aui-button aui-button-link js-bring-back-welcome" tabindex="1">'+soy.$$escapeHtml("\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")+"</a>"},goog.DEBUG&&(ServiceDesk.Templates.Agent.Welcome.Guide.Dismiss.flag.soyTemplateName="ServiceDesk.Templates.Agent.Welcome.Guide.Dismiss.flag");ServiceDesk.Templates.Agent.Welcome.Guide.Dismiss},686:function(e,t,n){},687:function(e,t,n){"use strict";n(99);"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.InternalApi&&(ServiceDesk.InternalApi={}),void 0===ServiceDesk.InternalApi.Feature&&(ServiceDesk.InternalApi.Feature={}),void 0===ServiceDesk.InternalApi.Feature.SpaceSingleSelect&&(ServiceDesk.InternalApi.Feature.SpaceSingleSelect={}),ServiceDesk.InternalApi.Feature.SpaceSingleSelect.select=function(e,t){return'<select class="select" name="'+soy.$$escapeHtml(e.name)+'"><option value="default" data-placeholder="true">'+soy.$$escapeHtml(e.placeholder)+"</option></select>"},goog.DEBUG&&(ServiceDesk.InternalApi.Feature.SpaceSingleSelect.select.soyTemplateName="ServiceDesk.InternalApi.Feature.SpaceSingleSelect.select"),ServiceDesk.InternalApi.Feature.SpaceSingleSelect.selectFooter=function(e,t){return'<div class="aui-list js-kb-space-select-footer sd-space-select-footer"><ul class="aui-list-section"><li class="aui-list-item">'+soy.$$escapeHtml("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0439\u0442\u0438 \u0432\u0430\u0448\u0435 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e? {0}\u0423\u0437\u043d\u0430\u0439\u0442\u0435, \u043f\u043e\u0447\u0435\u043c\u0443{1}")+ServiceDesk.Templates.Shared.Utils.helpLinkStart({helpLinkKey:"knowledge.base",analyticsKey:"knowledge.setup",newTab:!0})+soy.$$escapeHtml("Learn why")+ServiceDesk.Templates.Shared.Utils.helpLinkEnd(null)+"</li></ul></div>"},goog.DEBUG&&(ServiceDesk.InternalApi.Feature.SpaceSingleSelect.selectFooter.soyTemplateName="ServiceDesk.InternalApi.Feature.SpaceSingleSelect.selectFooter");ServiceDesk.InternalApi.Feature.SpaceSingleSelect},728:function(e,t,n){"use strict";"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Internal&&(ServiceDesk.Templates.Internal={}),void 0===ServiceDesk.Templates.Internal.Knowledge&&(ServiceDesk.Templates.Internal.Knowledge={}),void 0===ServiceDesk.Templates.Internal.Knowledge.Base&&(ServiceDesk.Templates.Internal.Knowledge.Base={}),void 0===ServiceDesk.Templates.Internal.Knowledge.Base.Link&&(ServiceDesk.Templates.Internal.Knowledge.Base.Link={}),void 0===ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing&&(ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing={}),ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.selectSpace=function(e,t){return'<form class="aui sd-kb-link-existing js-sd-kb-link-existing"><p>'+soy.$$escapeHtml("\u041d\u0430\u0439\u0442\u0438 \u0438 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0435 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e \u0441\u043b\u0438\u044f\u043d\u0438\u044f")+'</p><div><sd-kb-space-single-select id="sd-space-select" class="js-sd-link-existing-space-select sd-link-existing-space-select" field-name="space" placeholder="'+soy.$$escapeHtml("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u0431\u0430\u0437\u0443 \u0437\u043d\u0430\u043d\u0438\u0439")+'" project-key="'+soy.$$escapeHtml(e.projectKey)+'" app-link-id="'+soy.$$escapeHtml(e.appLink.appLinkId)+'" app-link-url="'+soy.$$escapeHtml(e.appLink.displayUrl)+'"></sd-kb-space-single-select></div></form>'},goog.DEBUG&&(ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.selectSpace.soyTemplateName="ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.selectSpace"),ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.appLinkError=function(e,t){for(var n='<div class="aui-message aui-message-error">',s=e.errors,a=s.length,i=0;i<a;i++){var r=s[i];n+="<p>"+soy.$$escapeHtml(r)+"</p>"}return n+="</div>"},goog.DEBUG&&(ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.appLinkError.soyTemplateName="ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.appLinkError"),ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.nonAppLinkError=function(e,t){for(var n="",s=e.errors,a=s.length,i=0;i<a;i++){var r=s[i];n+='<div class="error">'+soy.$$escapeHtml(r)+"</div>"}return n},goog.DEBUG&&(ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.nonAppLinkError.soyTemplateName="ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing.nonAppLinkError");ServiceDesk.Templates.Internal.Knowledge.Base.Link.Existing},729:function(e,t,n){},731:function(e,t,n){"use strict";n(23),n(21);"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Internal&&(ServiceDesk.Templates.Internal={}),void 0===ServiceDesk.Templates.Internal.Project&&(ServiceDesk.Templates.Internal.Project={}),void 0===ServiceDesk.Templates.Internal.Project.Knowledge&&(ServiceDesk.Templates.Internal.Project.Knowledge={}),void 0===ServiceDesk.Templates.Internal.Project.Knowledge.Base&&(ServiceDesk.Templates.Internal.Project.Knowledge.Base={}),void 0===ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible&&(ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible={}),ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible.flag=function(e,t){return'<button class="aui-button aui-button-link js-bring-back-knowledge-base-primary-nav">'+soy.$$escapeHtml("\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")+"</button>"},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible.flag.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible.flag"),ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible.inlineDialog=function(e,t){return'<h2 class="dialog-title">'+soy.$$escapeHtml("\u0411\u0430\u0437\u0430 \u0437\u043d\u0430\u043d\u0438\u0439")+'</h2><div class="sd-kb-logo"></div><h4 class="dialog-title">'+soy.$$escapeHtml("Solve issues, faster")+"</h4><p>"+soy.$$escapeHtml("Connect your service desk to Confluence, and let customers help themselves.")+'</p><p class="sd-kb-get-started-description-text">'+soy.$$escapeHtml("Create how-to and troubleshooting articles for common requests.")+'</p><div class="sd-kb-get-started-actions">'+ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible.getStartedActions(null)+"</div>"},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible.inlineDialog.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible.inlineDialog"),ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible.getStartedActions=function(e,t){return aui.buttons.button({text:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e",extraAttributes:{target:"_blank"},extraClasses:"sd-kb-confluence-try-button js-sd-kb-confluence-try-button",href:"https://www.atlassian.com/software/confluence/download",type:"primary"})+'<span class="sd-kb-action-link-container">'+aui.buttons.button({text:"Learn more",extraAttributes:{target:"_blank"},href:"https://confluence.atlassian.com/display/SERVICEDESKSERVER/Set+up+a+knowledge+base+for+self-service",type:"link"})+'</span><div class="js-sd-kb-get-started-errors"></div>'},goog.DEBUG&&(ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible.getStartedActions.soyTemplateName="ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible.getStartedActions");ServiceDesk.Templates.Internal.Project.Knowledge.Base.Dismissible},732:function(e,t,n){},733:function(e,t,n){"use strict";n.r(t);n(54),n(53),n(59),n(52),n(51),n(23),n(58),n(48),n(21),n(732);var s=n(113),a=n(449),i=n(447),r=n(82);Object(s.a)(),Object(a.a)(),r.a.getSidebar().done(function(){return Object(i.a)()})}},[[733,52,68,71,80,86,105,53,56,55,54,60,59,58,57,61,63,62,65,64,66,67,70,69,75,74,73,72,79,78,77,76,85,82,93,92,91,90,89,88,87,103,102,98,94,119,116,109,107]]]);;